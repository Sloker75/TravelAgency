2022-06-01 20:46:00.664 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-01 20:46:01.178 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-01 20:46:01.178 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-01 20:46:01.185 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-01 20:46:01.185 +03:00 [Information] Hosting environment: "Development"
2022-06-01 20:46:01.185 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-01 20:46:01.657 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:46:03.098 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:46:05.411 +03:00 [Information] Executed DbCommand ("47"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-01 20:46:05.547 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-01 20:46:05.556 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:46:05.565 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:46:05.653 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-01 20:46:05.674 +03:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:46:05.730 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:46:05.867 +03:00 [Information] Executed ViewResult - view "Index" executed in 138.4816ms.
2022-06-01 20:46:05.870 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 303.9511ms
2022-06-01 20:46:05.870 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:46:05.899 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 4245.4929ms
2022-06-01 20:46:05.912 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:46:05.915 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.9034ms
2022-06-01 20:48:47.720 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-01 20:48:48.375 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-01 20:48:48.375 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-01 20:48:48.378 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-01 20:48:48.378 +03:00 [Information] Hosting environment: "Development"
2022-06-01 20:48:48.378 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-01 20:48:48.877 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:48:49.186 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:48:49.207 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:48:50.197 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:48:50.599 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-01 20:48:51.074 +03:00 [Information] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:48:51.179 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:48:51.327 +03:00 [Information] Executed ViewResult - view "Index" executed in 150.2245ms.
2022-06-01 20:48:51.330 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2121.7371ms
2022-06-01 20:48:51.331 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:48:51.363 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2488.5250ms
2022-06-01 20:48:51.374 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:48:51.377 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7152ms
2022-06-01 20:48:52.686 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-01 20:48:52.694 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:48:52.697 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-01 20:48:52.735 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:48:52.792 +03:00 [Information] Executed DbCommand ("29"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserReserveId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-01 20:48:52.835 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:48:52.850 +03:00 [Information] Executed ViewResult - view "Index" executed in 15.8069ms.
2022-06-01 20:48:52.850 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 152.5513ms
2022-06-01 20:48:52.850 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:48:52.851 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 164.9662ms
2022-06-01 20:48:52.886 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:48:52.888 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/wwwroot/Images/scenery-abstract--k-wallpaper.jpg - -
2022-06-01 20:48:52.888 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.9717ms
2022-06-01 20:48:52.902 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/wwwroot/Images/scenery-abstract--k-wallpaper.jpg - - - 404 0 - 15.5353ms
2022-06-01 20:48:55.832 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-01 20:48:55.853 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-01 20:48:55.853 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 20.5950ms
2022-06-01 20:48:55.887 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-01 20:48:55.891 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-01 20:48:55.891 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 3.5978ms
2022-06-01 20:51:26.263 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-01 20:51:26.847 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-01 20:51:26.848 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-01 20:51:26.868 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-01 20:51:26.869 +03:00 [Information] Hosting environment: "Development"
2022-06-01 20:51:26.869 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-01 20:51:27.399 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:51:27.729 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:51:27.759 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:51:28.744 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:51:29.166 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-01 20:51:29.655 +03:00 [Information] Executed DbCommand ("51"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:51:29.784 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:51:29.931 +03:00 [Information] Executed ViewResult - view "Index" executed in 148.067ms.
2022-06-01 20:51:29.934 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2175.0041ms
2022-06-01 20:51:29.934 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:51:29.962 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2566.8890ms
2022-06-01 20:51:29.978 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:51:29.981 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.8471ms
2022-06-01 20:51:45.812 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2022-06-01 20:51:45.820 +03:00 [Information] Executing endpoint '"/Account/Logout"'
2022-06-01 20:51:45.835 +03:00 [Information] Route matched with "{page = \"/Account/Logout\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Logout"
2022-06-01 20:51:45.858 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LogoutModel.OnPost" - ModelState is Valid
2022-06-01 20:51:45.863 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2022-06-01 20:51:45.864 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-01 20:51:45.864 +03:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2022-06-01 20:51:45.865 +03:00 [Information] User logged out.
2022-06-01 20:51:45.865 +03:00 [Information] Executed handler method "OnPost", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2022-06-01 20:51:45.866 +03:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2022-06-01 20:51:45.866 +03:00 [Information] Executed page "/Account/Logout" in 30.1973ms
2022-06-01 20:51:45.866 +03:00 [Information] Executed endpoint '"/Account/Logout"'
2022-06-01 20:51:45.866 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 54.5709ms
2022-06-01 20:51:45.869 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:51:45.871 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:51:45.871 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:51:45.904 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:51:45.910 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:51:45.911 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:51:45.925 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.8574ms.
2022-06-01 20:51:45.925 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 54.1882ms
2022-06-01 20:51:45.925 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:51:45.926 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 56.8333ms
2022-06-01 20:51:45.944 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:51:45.945 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3901ms
2022-06-01 20:51:46.669 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Register - -
2022-06-01 20:51:46.674 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 20:51:46.679 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 20:51:46.685 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync" - ModelState is Valid
2022-06-01 20:51:46.686 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-01 20:51:46.690 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-01 20:51:46.690 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:51:46.730 +03:00 [Information] Executed page "/Account/Register" in 51.013ms
2022-06-01 20:51:46.730 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 20:51:46.731 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 62.6838ms
2022-06-01 20:51:46.783 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:51:46.783 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2183ms
2022-06-01 20:52:00.925 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryyJ7lFNXrQqeF7h1T 38883
2022-06-01 20:52:00.926 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 20:52:00.926 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 20:52:00.942 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync" - ModelState is Valid
2022-06-01 20:52:01.004 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:01.049 +03:00 [Information] Executed DbCommand ("22"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 20:52:01.192 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [EmployeeId], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PhotoPath], [ReservesId], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);"
2022-06-01 20:52:01.208 +03:00 [Information] User created a new account with password.
2022-06-01 20:52:02.308 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2022-06-01 20:52:02.309 +03:00 [Information] Executing RedirectToPageResult, redirecting to "RegisterConfirmation".
2022-06-01 20:52:02.309 +03:00 [Information] Executed page "/Account/Register" in 1383.6591ms
2022-06-01 20:52:02.309 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 20:52:02.310 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryyJ7lFNXrQqeF7h1T 38883 - 302 0 - 1386.6690ms
2022-06-01 20:52:02.313 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=biyox37574@runchet.com&returnUrl=%2F - -
2022-06-01 20:52:02.313 +03:00 [Information] Executing endpoint '"/Account/RegisterConfirmation"'
2022-06-01 20:52:02.315 +03:00 [Information] Route matched with "{page = \"/Account/RegisterConfirmation\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/RegisterConfirmation"
2022-06-01 20:52:02.316 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterConfirmationModel.OnGetAsync" - ModelState is Valid
2022-06-01 20:52:02.321 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:02.333 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)"
2022-06-01 20:52:02.336 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:52:02.341 +03:00 [Information] Executed page "/Account/RegisterConfirmation" in 26.031ms
2022-06-01 20:52:02.341 +03:00 [Information] Executed endpoint '"/Account/RegisterConfirmation"'
2022-06-01 20:52:02.342 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=biyox37574@runchet.com&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 29.4324ms
2022-06-01 20:52:02.360 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:52:02.360 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1868ms
2022-06-01 20:52:14.770 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=a51837f1-9bc9-46af-8fe3-953579a3df8d&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtZQkFlcE1VN3M3WE9uMFluQWowS3pqbHJjajNuV05JM0ErUENWYnBNb1JuVk5ha2JncEVTcjVsem55UVA1ODZOYXhFZ21KTEVyQ3NYdDM5M0ZPNUlQcUpPRjR2amg5eHJ1YjFFU0VZTVV5NGJhaDdQSTZSMlIrejBSRlE4S3Y4M0N4a2NtWXNFWUE5ME9OVUcxR29lTzlWMGFrcnprY25WdlRvM1NQNXp4dmpUSC90RnhENUplWW9veXk1RTFTemxIcFA5TFRUOU02NEQ5SEI2NGIyMnBNUmNjZEQ5cWxCdzJGQmpzZEZSZHV4QT09&returnUrl=%2F - -
2022-06-01 20:52:14.771 +03:00 [Information] Executing endpoint '"/Account/ConfirmEmail"'
2022-06-01 20:52:14.772 +03:00 [Information] Route matched with "{page = \"/Account/ConfirmEmail\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/ConfirmEmail"
2022-06-01 20:52:14.774 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ConfirmEmailModel.OnGetAsync" - ModelState is Valid
2022-06-01 20:52:14.776 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:14.785 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-01 20:52:14.793 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 20:52:14.806 +03:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [EmployeeId] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Name] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [PhotoPath] = @p13, [ReservesId] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;"
2022-06-01 20:52:14.810 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:52:14.817 +03:00 [Information] Executed page "/Account/ConfirmEmail" in 44.5812ms
2022-06-01 20:52:14.817 +03:00 [Information] Executed endpoint '"/Account/ConfirmEmail"'
2022-06-01 20:52:14.818 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=a51837f1-9bc9-46af-8fe3-953579a3df8d&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtZQkFlcE1VN3M3WE9uMFluQWowS3pqbHJjajNuV05JM0ErUENWYnBNb1JuVk5ha2JncEVTcjVsem55UVA1ODZOYXhFZ21KTEVyQ3NYdDM5M0ZPNUlQcUpPRjR2amg5eHJ1YjFFU0VZTVV5NGJhaDdQSTZSMlIrejBSRlE4S3Y4M0N4a2NtWXNFWUE5ME9OVUcxR29lTzlWMGFrcnprY25WdlRvM1NQNXp4dmpUSC90RnhENUplWW9veXk1RTFTemxIcFA5TFRUOU02NEQ5SEI2NGIyMnBNUmNjZEQ5cWxCdzJGQmpzZEZSZHV4QT09&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 48.0050ms
2022-06-01 20:52:14.864 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:52:14.864 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4803ms
2022-06-01 20:52:20.208 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Login - -
2022-06-01 20:52:20.209 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-01 20:52:20.214 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-01 20:52:20.215 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnGetAsync" - ModelState is Valid
2022-06-01 20:52:20.215 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-01 20:52:20.216 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-01 20:52:20.216 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-01 20:52:20.216 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:52:20.235 +03:00 [Information] Executed page "/Account/Login" in 21.3251ms
2022-06-01 20:52:20.235 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-01 20:52:20.236 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 28.2240ms
2022-06-01 20:52:20.255 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:52:20.255 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.4934ms
2022-06-01 20:52:25.680 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266
2022-06-01 20:52:25.681 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-01 20:52:25.682 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-01 20:52:25.684 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnPostAsync" - ModelState is Valid
2022-06-01 20:52:25.686 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:25.687 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 20:52:25.724 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-01 20:52:25.729 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2022-06-01 20:52:25.731 +03:00 [Information] User logged in.
2022-06-01 20:52:25.731 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2022-06-01 20:52:25.731 +03:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2022-06-01 20:52:25.731 +03:00 [Information] Executed page "/Account/Login" in 49.0189ms
2022-06-01 20:52:25.731 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-01 20:52:25.731 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266 - 302 0 - 50.7626ms
2022-06-01 20:52:25.734 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:52:25.735 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:52:25.735 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:52:25.736 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:25.738 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:52:25.738 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:52:25.746 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.9244ms.
2022-06-01 20:52:25.746 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 11.0433ms
2022-06-01 20:52:25.746 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:52:25.747 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 13.3255ms
2022-06-01 20:52:25.773 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:52:25.773 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2647ms
2022-06-01 20:52:27.073 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-01 20:52:27.074 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:52:27.077 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-01 20:52:27.079 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:52:27.092 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserReserveId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-01 20:52:27.094 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:52:27.102 +03:00 [Information] Executed ViewResult - view "Index" executed in 8.5901ms.
2022-06-01 20:52:27.102 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 25.3763ms
2022-06-01 20:52:27.102 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:52:27.103 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 30.0935ms
2022-06-01 20:52:27.136 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:52:27.136 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/11925.jpg - -
2022-06-01 20:52:27.137 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4960ms
2022-06-01 20:52:27.148 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\11925.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 20:52:27.180 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/11925.jpg - - - 500 - text/plain;+charset=utf-8 43.4332ms
2022-06-01 20:52:34.372 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-01 20:52:34.384 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-01 20:52:34.384 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 12.1681ms
2022-06-01 20:52:34.393 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-01 20:52:34.397 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-01 20:52:34.397 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 4.5400ms
2022-06-01 20:53:48.182 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-01 20:53:48.187 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:53:48.189 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-01 20:53:48.190 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:53:48.198 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserReserveId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-01 20:53:48.200 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:53:48.209 +03:00 [Information] Executed ViewResult - view "Index" executed in 10.1656ms.
2022-06-01 20:53:48.209 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 19.8145ms
2022-06-01 20:53:48.209 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 20:53:48.213 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 30.6512ms
2022-06-01 20:53:48.413 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-01 20:53:48.421 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/11925.jpg - -
2022-06-01 20:53:48.423 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\11925.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 20:53:48.426 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/11925.jpg - - - 500 - text/plain;+charset=utf-8 5.1069ms
2022-06-01 20:53:48.428 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-01 20:53:48.428 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 15.0738ms
2022-06-01 20:53:48.436 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:53:48.436 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3978ms
2022-06-01 20:53:48.480 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-01 20:53:48.484 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-01 20:53:48.484 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 4.7305ms
2022-06-01 20:54:52.627 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/1.png - -
2022-06-01 20:54:52.629 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/1.png - - - 404 0 - 1.6041ms
2022-06-01 20:55:19.960 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/11925.jpg - -
2022-06-01 20:55:19.968 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\11925.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.StreamResponseBodyFeature.SendFileAsync(String path, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.WebTools.BrowserLink.Net.SendFilesWrapper.SendFileAsync(String path, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 20:55:19.969 +03:00 [Warning] The response has already started, the error page middleware will not be executed.
2022-06-01 20:55:19.971 +03:00 [Error] Connection id ""0HMI3UTCSNHOB"", Request id ""0HMI3UTCSNHOB:00000039"": An unhandled exception was thrown by the application.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\11925.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.StreamResponseBodyFeature.SendFileAsync(String path, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.WebTools.BrowserLink.Net.SendFilesWrapper.SendFileAsync(String path, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.WebTools.BrowserLink.Net.BrowserLinkMiddleware.ExecuteWithFilterAsync(IHttpSocketAdapter injectScriptSocket, String requestId, HttpContext httpContext)
   at Microsoft.AspNetCore.Watch.BrowserRefresh.BrowserRefreshMiddleware.InvokeAsync(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2022-06-01 20:55:19.974 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/11925.jpg - - - 200 37868 image/jpeg 14.4901ms
2022-06-01 20:56:25.005 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/1.jpg - -
2022-06-01 20:56:25.036 +03:00 [Information] Sending file. Request path: '"/Images/1.jpg"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\1.jpg"'
2022-06-01 20:56:25.036 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/1.jpg - - - 200 596520 image/jpeg 30.2158ms
2022-06-01 20:59:05.939 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-01 20:59:06.412 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-01 20:59:06.412 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-01 20:59:06.414 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-01 20:59:06.414 +03:00 [Information] Hosting environment: "Development"
2022-06-01 20:59:06.414 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-01 20:59:07.098 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:59:07.335 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:59:07.354 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:59:08.204 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:59:08.619 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-01 20:59:09.111 +03:00 [Information] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:59:09.203 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:59:09.340 +03:00 [Information] Executed ViewResult - view "Index" executed in 137.5466ms.
2022-06-01 20:59:09.343 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1987.8266ms
2022-06-01 20:59:09.343 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:59:09.370 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2275.1331ms
2022-06-01 20:59:09.389 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:59:09.392 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.5900ms
2022-06-01 20:59:12.316 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225
2022-06-01 20:59:12.326 +03:00 [Information] Executing endpoint '"/Account/Logout"'
2022-06-01 20:59:12.342 +03:00 [Information] Route matched with "{page = \"/Account/Logout\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Logout"
2022-06-01 20:59:12.367 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.LogoutModel.OnPost" - ModelState is Valid
2022-06-01 20:59:12.373 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2022-06-01 20:59:12.374 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-01 20:59:12.374 +03:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2022-06-01 20:59:12.374 +03:00 [Information] User logged out.
2022-06-01 20:59:12.375 +03:00 [Information] Executed handler method "OnPost", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2022-06-01 20:59:12.375 +03:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2022-06-01 20:59:12.375 +03:00 [Information] Executed page "/Account/Logout" in 33.5262ms
2022-06-01 20:59:12.375 +03:00 [Information] Executed endpoint '"/Account/Logout"'
2022-06-01 20:59:12.376 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Logout?returnUrl=%2F application/x-www-form-urlencoded 225 - 302 0 - 59.6935ms
2022-06-01 20:59:12.379 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 20:59:12.380 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:59:12.380 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 20:59:12.413 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 20:59:12.418 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 20:59:12.419 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 20:59:12.432 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.3567ms.
2022-06-01 20:59:12.432 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 52.2824ms
2022-06-01 20:59:12.432 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 20:59:12.433 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 54.7963ms
2022-06-01 20:59:12.448 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:59:12.449 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4387ms
2022-06-01 20:59:13.017 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Register - -
2022-06-01 20:59:13.022 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 20:59:13.028 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 20:59:13.033 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync" - ModelState is Valid
2022-06-01 20:59:13.035 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-01 20:59:13.038 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-01 20:59:13.038 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:59:13.076 +03:00 [Information] Executed page "/Account/Register" in 48.7057ms
2022-06-01 20:59:13.077 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 20:59:13.078 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 60.4286ms
2022-06-01 20:59:13.091 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:59:13.092 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2461ms
2022-06-01 20:59:42.521 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundarySKGy1BmKV1iu690d 597541
2022-06-01 20:59:42.522 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 20:59:42.522 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 20:59:42.568 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync" - ModelState is Valid
2022-06-01 20:59:42.584 +03:00 [Warning] User password validation failed: "PasswordRequiresLower;PasswordRequiresUpper".
2022-06-01 20:59:42.585 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 20:59:42.591 +03:00 [Information] Executed page "/Account/Register" in 68.9812ms
2022-06-01 20:59:42.591 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 20:59:42.593 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundarySKGy1BmKV1iu690d 597541 - 200 - text/html;+charset=utf-8 72.3938ms
2022-06-01 20:59:42.611 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:59:42.612 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2042ms
2022-06-01 20:59:57.847 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryGxuFRpp1sWMBzk4z 597531
2022-06-01 20:59:57.848 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 20:59:57.848 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 20:59:57.877 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync" - ModelState is Valid
2022-06-01 20:59:57.960 +03:00 [Information] Executed page "/Account/Register" in 111.9864ms
2022-06-01 20:59:57.960 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 20:59:57.961 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\1.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.File.Create(String path)
   at travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync(String returnUrl) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Areas\Identity\Pages\Account\Register.cshtml.cs:line 125
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.ExecutorFactory.GenericTaskHandlerMethod.Convert[T](Object taskAsObject)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.ExecutorFactory.GenericTaskHandlerMethod.Execute(Object receiver, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeHandlerMethodAsync()
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeNextPageFilterAsync()
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Rethrow(PageHandlerExecutedContext context)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.RazorPages.Infrastructure.PageActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 20:59:58.032 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryGxuFRpp1sWMBzk4z 597531 - 500 - text/html;+charset=utf-8 184.5736ms
2022-06-01 20:59:58.048 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 20:59:58.048 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2542ms
2022-06-01 21:00:08.233 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Register - -
2022-06-01 21:00:08.234 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 21:00:08.234 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 21:00:08.234 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync" - ModelState is Valid
2022-06-01 21:00:08.234 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-01 21:00:08.234 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-01 21:00:08.234 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 21:00:08.239 +03:00 [Information] Executed page "/Account/Register" in 4.7312ms
2022-06-01 21:00:08.239 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 21:00:08.240 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 6.4241ms
2022-06-01 21:00:08.259 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:08.259 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2105ms
2022-06-01 21:00:19.804 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryD8nluAFelMm4aoVM 48896
2022-06-01 21:00:19.804 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-01 21:00:19.805 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-01 21:00:19.805 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync" - ModelState is Valid
2022-06-01 21:00:19.842 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:19.886 +03:00 [Information] Executed DbCommand ("19"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 21:00:20.027 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Int32), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [EmployeeId], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PhotoPath], [ReservesId], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);"
2022-06-01 21:00:20.044 +03:00 [Information] User created a new account with password.
2022-06-01 21:00:20.974 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2022-06-01 21:00:20.975 +03:00 [Information] Executing RedirectToPageResult, redirecting to "RegisterConfirmation".
2022-06-01 21:00:20.975 +03:00 [Information] Executed page "/Account/Register" in 1170.7427ms
2022-06-01 21:00:20.975 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-01 21:00:20.976 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryD8nluAFelMm4aoVM 48896 - 302 0 - 1172.0690ms
2022-06-01 21:00:20.981 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=cotexa7571@about27.com&returnUrl=%2F - -
2022-06-01 21:00:20.982 +03:00 [Information] Executing endpoint '"/Account/RegisterConfirmation"'
2022-06-01 21:00:20.984 +03:00 [Information] Route matched with "{page = \"/Account/RegisterConfirmation\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/RegisterConfirmation"
2022-06-01 21:00:20.984 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterConfirmationModel.OnGetAsync" - ModelState is Valid
2022-06-01 21:00:20.988 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:21.000 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)"
2022-06-01 21:00:21.003 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 21:00:21.007 +03:00 [Information] Executed page "/Account/RegisterConfirmation" in 23.7595ms
2022-06-01 21:00:21.007 +03:00 [Information] Executed endpoint '"/Account/RegisterConfirmation"'
2022-06-01 21:00:21.008 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=cotexa7571@about27.com&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 26.9693ms
2022-06-01 21:00:21.024 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:21.025 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5487ms
2022-06-01 21:00:29.216 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=55c2d6e8-d537-48dc-ac2a-880b32873e5b&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtaeXVJQVViQ2hOdHV2Nm4wZk5udERVRkUzOWlmU1IxN1RQT0srSzEyZWRUN0Zwby9TalM4cWY1bWtUbnprR3I1OXltNVlwK0I0VWlVNnk3TVlyYVl1M0FIWHdvTGo2b3V0U2JuNC9jUE1RRDdGdjlBSENZbG8xVU9adkt2akdmajQ1WHJxekc2MUlaYTlUdzJEbjYraXZZNjdPeDdLRC9GeFlOYi9iQzFzUmYvd1lyTk1lUktDN1dsOWVncVVVWGRuUnZIVk9VMmdGS0l3QmpSM3p2RTFUMzZjMFRJWU5LcUx6YWtWRXE1TXRPZz09&returnUrl=%2F - -
2022-06-01 21:00:29.216 +03:00 [Information] Executing endpoint '"/Account/ConfirmEmail"'
2022-06-01 21:00:29.218 +03:00 [Information] Route matched with "{page = \"/Account/ConfirmEmail\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/ConfirmEmail"
2022-06-01 21:00:29.219 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ConfirmEmailModel.OnGetAsync" - ModelState is Valid
2022-06-01 21:00:29.221 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:29.230 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-01 21:00:29.237 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 21:00:29.249 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p18='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p19='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [EmployeeId] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Name] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [PhotoPath] = @p13, [ReservesId] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
SELECT @@ROWCOUNT;"
2022-06-01 21:00:29.252 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 21:00:29.260 +03:00 [Information] Executed page "/Account/ConfirmEmail" in 41.6931ms
2022-06-01 21:00:29.260 +03:00 [Information] Executed endpoint '"/Account/ConfirmEmail"'
2022-06-01 21:00:29.261 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=55c2d6e8-d537-48dc-ac2a-880b32873e5b&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtaeXVJQVViQ2hOdHV2Nm4wZk5udERVRkUzOWlmU1IxN1RQT0srSzEyZWRUN0Zwby9TalM4cWY1bWtUbnprR3I1OXltNVlwK0I0VWlVNnk3TVlyYVl1M0FIWHdvTGo2b3V0U2JuNC9jUE1RRDdGdjlBSENZbG8xVU9adkt2akdmajQ1WHJxekc2MUlaYTlUdzJEbjYraXZZNjdPeDdLRC9GeFlOYi9iQzFzUmYvd1lyTk1lUktDN1dsOWVncVVVWGRuUnZIVk9VMmdGS0l3QmpSM3p2RTFUMzZjMFRJWU5LcUx6YWtWRXE1TXRPZz09&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 45.1362ms
2022-06-01 21:00:29.304 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:29.304 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3184ms
2022-06-01 21:00:33.398 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Login - -
2022-06-01 21:00:33.399 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-01 21:00:33.402 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-01 21:00:33.404 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnGetAsync" - ModelState is Valid
2022-06-01 21:00:33.405 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-01 21:00:33.405 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-01 21:00:33.405 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-01 21:00:33.405 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-01 21:00:33.423 +03:00 [Information] Executed page "/Account/Login" in 20.7326ms
2022-06-01 21:00:33.423 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-01 21:00:33.424 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 26.1018ms
2022-06-01 21:00:33.439 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:33.439 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2373ms
2022-06-01 21:00:38.320 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266
2022-06-01 21:00:38.321 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-01 21:00:38.322 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-01 21:00:38.324 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnPostAsync" - ModelState is Valid
2022-06-01 21:00:38.327 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:38.329 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-01 21:00:38.366 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-01 21:00:38.372 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2022-06-01 21:00:38.373 +03:00 [Information] User logged in.
2022-06-01 21:00:38.373 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2022-06-01 21:00:38.374 +03:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2022-06-01 21:00:38.374 +03:00 [Information] Executed page "/Account/Login" in 52.1357ms
2022-06-01 21:00:38.374 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-01 21:00:38.374 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266 - 302 0 - 54.0429ms
2022-06-01 21:00:38.377 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-01 21:00:38.378 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 21:00:38.378 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-01 21:00:38.379 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:38.380 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CommentId], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[ExcursionId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[ReservesId], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[ShowPlaceId], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [t0].[PhotoPathId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[ShowPlaceId], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0], [s].[PhotoPathId]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-01 21:00:38.381 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 21:00:38.387 +03:00 [Information] Executed ViewResult - view "Index" executed in 5.3634ms.
2022-06-01 21:00:38.387 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 8.5594ms
2022-06-01 21:00:38.387 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-01 21:00:38.388 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 10.9679ms
2022-06-01 21:00:38.411 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:38.411 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1646ms
2022-06-01 21:00:39.609 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-01 21:00:39.610 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 21:00:39.613 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-01 21:00:39.616 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-01 21:00:39.626 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [a].[ReservesId], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserReserveId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-01 21:00:39.627 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-01 21:00:39.636 +03:00 [Information] Executed ViewResult - view "Index" executed in 8.5671ms.
2022-06-01 21:00:39.636 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 22.548ms
2022-06-01 21:00:39.636 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-01 21:00:39.636 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 27.5015ms
2022-06-01 21:00:39.669 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-01 21:00:39.669 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - -
2022-06-01 21:00:39.669 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4458ms
2022-06-01 21:00:39.677 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 21:00:39.681 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - - - 500 - text/plain;+charset=utf-8 11.6464ms
2022-06-01 21:00:42.888 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-01 21:00:42.913 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-01 21:00:42.913 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 25.5561ms
2022-06-01 21:00:42.922 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-01 21:00:42.924 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-01 21:00:42.924 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 2.6176ms
2022-06-01 21:01:58.194 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - -
2022-06-01 21:01:58.199 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.IO.IOException: The process cannot access the file 'E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg' because it is being used by another process.
   at Microsoft.Win32.SafeHandles.SafeFileHandle.CreateFile(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options)
   at Microsoft.Win32.SafeHandles.SafeFileHandle.Open(String fullPath, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.OSFileStreamStrategy..ctor(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategyCore(String path, FileMode mode, FileAccess access, FileShare share, FileOptions options, Int64 preallocationSize)
   at System.IO.Strategies.FileStreamHelpers.ChooseStrategy(FileStream fileStream, String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options, Int64 preallocationSize)
   at System.IO.FileStream..ctor(String path, FileMode mode, FileAccess access, FileShare share, Int32 bufferSize, FileOptions options)
   at Microsoft.AspNetCore.Http.SendFileFallback.SendFileAsync(Stream destination, String filePath, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, String fileName, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.ServeStaticFile(HttpContext context, RequestDelegate next)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-01 21:01:58.200 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - - - 500 - text/plain;+charset=utf-8 6.2136ms
2022-06-02 11:58:23.752 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:00:47.854 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:00:50.261 +03:00 [Information] Executed DbCommand ("23"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 12:00:50.289 +03:00 [Information] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 12:00:50.291 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 12:00:50.292 +03:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 12:00:50.333 +03:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-02 12:00:50.346 +03:00 [Information] Applying migration '"20220602085823_UpdateDateBase"'.
2022-06-02 12:00:50.484 +03:00 [Information] Executed DbCommand ("76"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Tours]') AND [c].[name] = N'CommentId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Tours] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Tours] DROP COLUMN [CommentId];"
2022-06-02 12:00:50.493 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Tours]') AND [c].[name] = N'ExcursionId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Tours] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Tours] DROP COLUMN [ExcursionId];"
2022-06-02 12:00:50.500 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Tours]') AND [c].[name] = N'ReservesId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Tours] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Tours] DROP COLUMN [ReservesId];"
2022-06-02 12:00:50.509 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[ShowPlaces]') AND [c].[name] = N'PhotoPathId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [ShowPlaces] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [ShowPlaces] DROP COLUMN [PhotoPathId];"
2022-06-02 12:00:50.517 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var4 sysname;
SELECT @var4 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Hotels]') AND [c].[name] = N'PhotoPathId');
IF @var4 IS NOT NULL EXEC(N'ALTER TABLE [Hotels] DROP CONSTRAINT [' + @var4 + '];');
ALTER TABLE [Hotels] DROP COLUMN [PhotoPathId];"
2022-06-02 12:00:50.525 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var5 sysname;
SELECT @var5 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Excursions]') AND [c].[name] = N'ShowPlaceId');
IF @var5 IS NOT NULL EXEC(N'ALTER TABLE [Excursions] DROP CONSTRAINT [' + @var5 + '];');
ALTER TABLE [Excursions] DROP COLUMN [ShowPlaceId];"
2022-06-02 12:00:50.535 +03:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var6 sysname;
SELECT @var6 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[AspNetUsers]') AND [c].[name] = N'ReservesId');
IF @var6 IS NOT NULL EXEC(N'ALTER TABLE [AspNetUsers] DROP CONSTRAINT [' + @var6 + '];');
ALTER TABLE [AspNetUsers] DROP COLUMN [ReservesId];"
2022-06-02 12:00:50.542 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220602085823_UpdateDateBase', N'6.0.5');"
2022-06-02 12:01:27.164 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:01:27.578 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:01:27.578 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:01:27.580 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:01:27.580 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:01:27.580 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:01:28.119 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:01:29.422 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:01:30.311 +03:00 [Information] Executed DbCommand ("55"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-02 12:01:30.453 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-02 12:01:30.463 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:01:30.478 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:01:30.592 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:01:30.612 +03:00 [Information] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:01:30.663 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:01:30.710 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 227.227ms
2022-06-02 12:01:30.712 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:01:30.715 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[Domain.Models.Tour]', but this ViewDataDictionary instance requires a model item of type 'Domain.Models.ViewModels.TourViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method305(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 12:01:30.922 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 500 - text/html;+charset=utf-8 2805.2419ms
2022-06-02 12:01:30.940 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:01:30.944 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.9330ms
2022-06-02 12:12:19.480 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:12:19.998 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:12:19.998 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:12:20.001 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:12:20.001 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:12:20.001 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:12:20.374 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:12:20.748 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:12:20.763 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:12:21.573 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:12:21.894 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:12:23.684 +03:00 [Information] Executed DbCommand ("40"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:12:23.772 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:12:23.791 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 3024.1896ms
2022-06-02 12:12:23.792 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:12:23.794 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[Domain.Models.Tour]', but this ViewDataDictionary instance requires a model item of type 'Domain.Models.ViewModels.TourViewModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method164(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 12:12:23.915 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 500 - text/html;+charset=utf-8 3555.8515ms
2022-06-02 12:12:23.928 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:12:23.931 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.9616ms
2022-06-02 12:13:58.891 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:13:59.315 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:13:59.315 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:13:59.321 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:13:59.321 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:13:59.321 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:13:59.652 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:13:59.902 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:13:59.919 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:14:00.798 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:14:01.161 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:14:01.654 +03:00 [Information] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:14:01.761 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:14:01.782 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1858.3132ms
2022-06-02 12:14:01.783 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:14:01.785 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'System.Collections.Generic.List`1[Domain.Models.Tour]', but this ViewDataDictionary instance requires a model item of type 'Domain.Models.Tour'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method164(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 12:14:01.914 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 500 - text/html;+charset=utf-8 2264.8810ms
2022-06-02 12:14:01.926 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:14:01.931 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.6205ms
2022-06-02 12:17:03.013 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:17:03.450 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:17:03.450 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:17:03.452 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:17:03.453 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:17:03.453 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:17:03.732 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:17:03.963 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:17:03.979 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:17:04.862 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:17:05.245 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:17:05.662 +03:00 [Information] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:17:05.762 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:17:05.968 +03:00 [Information] Executed ViewResult - view "Index" executed in 206.4373ms.
2022-06-02 12:17:05.971 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1991.1344ms
2022-06-02 12:17:05.971 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:17:05.999 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2269.6198ms
2022-06-02 12:17:06.014 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 12:17:06.014 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:17:06.017 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6385ms
2022-06-02 12:17:06.026 +03:00 [Information] Sending file. Request path: '"/travelAgency.styles.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\obj\Debug\net6.0\scopedcss\bundle\travelAgency.styles.css"'
2022-06-02 12:17:06.026 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 200 1129 text/css 12.2999ms
2022-06-02 12:17:10.282 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 12:17:10.288 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:17:10.316 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 12:17:10.354 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:17:10.369 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:17:10.383 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 12:17:10.384 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:17:10.402 +03:00 [Information] Executed ViewResult - view "Index" executed in 18.2287ms.
2022-06-02 12:17:10.402 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 86.1236ms
2022-06-02 12:17:10.402 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:17:10.403 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 120.9503ms
2022-06-02 12:17:10.423 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:17:10.423 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4202ms
2022-06-02 12:17:17.979 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-02 12:17:18.011 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-02 12:17:18.017 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-02 12:17:18.017 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 38.6172ms
2022-06-02 12:17:18.031 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-02 12:17:18.032 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 21.0919ms
2022-06-02 12:17:41.561 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin/AddEmployee - -
2022-06-02 12:17:41.574 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:41.575 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddEmployeeAsync()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-02 12:17:41.576 +03:00 [Information] Executing ViewResult, running view "AddEmployee".
2022-06-02 12:17:41.605 +03:00 [Information] Executed ViewResult - view "AddEmployee" executed in 30.1793ms.
2022-06-02 12:17:41.606 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 30.9035ms
2022-06-02 12:17:41.606 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:41.609 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin/AddEmployee - - - 200 - text/html;+charset=utf-8 48.4048ms
2022-06-02 12:17:41.631 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:17:41.635 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.6455ms
2022-06-02 12:17:41.638 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - -
2022-06-02 12:17:41.638 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - -
2022-06-02 12:17:41.639 +03:00 [Information] The file "/lib/jquery-validation/dist/jquery.validate.min.js" was not modified
2022-06-02 12:17:41.639 +03:00 [Information] The file "/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js" was not modified
2022-06-02 12:17:41.639 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - - - 304 - application/javascript 0.8242ms
2022-06-02 12:17:41.639 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - - - 304 - application/javascript 0.8269ms
2022-06-02 12:17:54.136 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Admin/AddEmployee application/x-www-form-urlencoded 256
2022-06-02 12:17:54.138 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:54.150 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEmployeeAsync(System.String)" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-02 12:17:54.176 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:17:54.220 +03:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserReserveId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__Email_0)
ORDER BY [a].[Id]"
2022-06-02 12:17:54.423 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employees] ([UserId])
VALUES (@p0);
SELECT [Id]
FROM [Employees]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 12:17:54.458 +03:00 [Information] Executing RedirectToRouteResult, redirecting to "/" from route null.
2022-06-02 12:17:54.459 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 308.2735ms
2022-06-02 12:17:54.459 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:54.459 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Admin/AddEmployee application/x-www-form-urlencoded 256 - 302 0 - 323.3038ms
2022-06-02 12:17:54.462 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:17:54.462 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:17:54.463 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:17:54.463 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:17:54.467 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId], [r].[UserReserveId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:17:54.468 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:17:54.474 +03:00 [Information] Executed ViewResult - view "Index" executed in 6.341ms.
2022-06-02 12:17:54.474 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 11.3191ms
2022-06-02 12:17:54.474 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:17:54.478 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 15.9463ms
2022-06-02 12:17:54.494 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:17:54.496 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2216ms
2022-06-02 12:17:58.889 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin/AddEmployee - -
2022-06-02 12:17:58.890 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:58.890 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddEmployeeAsync()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-02 12:17:58.891 +03:00 [Information] Executing ViewResult, running view "AddEmployee".
2022-06-02 12:17:58.895 +03:00 [Information] Executed ViewResult - view "AddEmployee" executed in 5.007ms.
2022-06-02 12:17:58.896 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 5.188ms
2022-06-02 12:17:58.896 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 12:17:58.896 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin/AddEmployee - - - 200 - text/html;+charset=utf-8 7.0011ms
2022-06-02 12:17:58.912 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:17:58.912 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1801ms
2022-06-02 12:18:02.664 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-02 12:18:02.665 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-02 12:18:02.666 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 12:18:02.667 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-02 12:18:02.708 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 41.5229ms.
2022-06-02 12:18:02.708 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 41.8156ms
2022-06-02 12:18:02.708 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-02 12:18:02.710 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 45.1211ms
2022-06-02 12:18:02.727 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:18:02.727 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1897ms
2022-06-02 12:18:45.768 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-02 12:18:45.795 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-02 12:18:45.796 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 27.1718ms
2022-06-02 12:18:45.808 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-02 12:18:45.811 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-02 12:18:45.811 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 3.3142ms
2022-06-02 12:18:56.038 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 431
2022-06-02 12:18:56.041 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-02 12:18:56.045 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 12:19:02.998 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:19:03.040 +03:00 [Information] Executed DbCommand ("23"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:19:35.779 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 12:19:35.783 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 12:19:35.788 +03:00 [Information] Executed DbCommand ("4"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Tours] ([CountPeople], [Duration], [EmployeeId], [HotelId], [IsHotTour], [Price], [Rating], [TypeTransport])
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT [Id]
FROM [Tours]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 12:19:37.177 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserCommentId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 12:19:37.177 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:19:37.191 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.0303ms.
2022-06-02 12:19:37.192 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 41146.4335ms
2022-06-02 12:19:37.192 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-02 12:19:37.195 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 431 - 200 - text/html;+charset=utf-8 41157.0141ms
2022-06-02 12:19:37.213 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 12:19:37.213 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 12:19:37.214 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 0.5242ms
2022-06-02 12:19:37.272 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:19:37.272 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4452ms
2022-06-02 12:28:49.371 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:28:49.731 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:28:49.731 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:28:49.733 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:28:49.734 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:28:49.734 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:28:50.302 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:28:50.514 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:28:50.529 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:28:51.268 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:28:51.596 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:28:52.000 +03:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:28:52.107 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:28:52.241 +03:00 [Information] Executed ViewResult - view "Index" executed in 133.747ms.
2022-06-02 12:28:52.243 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1713.2129ms
2022-06-02 12:28:52.243 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:28:52.272 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 1973.2482ms
2022-06-02 12:28:52.287 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 12:28:52.287 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:28:52.290 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.1319ms
2022-06-02 12:28:52.291 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 12:28:52.292 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 5.0538ms
2022-06-02 12:29:00.827 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 12:29:00.831 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:29:00.838 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 12:29:00.875 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:29:00.891 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:29:00.905 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 12:29:00.906 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:29:00.924 +03:00 [Information] Executed ViewResult - view "Index" executed in 17.7325ms.
2022-06-02 12:29:00.924 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 85.5351ms
2022-06-02 12:29:00.924 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:29:00.925 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 98.1905ms
2022-06-02 12:29:00.940 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:29:00.940 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3806ms
2022-06-02 12:31:46.952 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:31:47.394 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:31:47.395 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:31:47.399 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:31:47.399 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:31:47.399 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:31:48.011 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:31:48.984 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:31:49.641 +03:00 [Information] Executed DbCommand ("47"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-02 12:31:49.787 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-02 12:31:49.796 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:31:49.806 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:31:49.897 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:31:49.916 +03:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:31:49.979 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:31:50.120 +03:00 [Information] Executed ViewResult - view "Index" executed in 140.3023ms.
2022-06-02 12:31:50.122 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 315.871ms
2022-06-02 12:31:50.123 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:31:50.151 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2143.2270ms
2022-06-02 12:31:50.197 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:31:50.202 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.6438ms
2022-06-02 12:31:51.877 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 12:31:51.888 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:31:51.896 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 12:31:51.936 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:31:51.953 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:31:51.964 +03:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 12:31:51.966 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:31:51.986 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.6994ms.
2022-06-02 12:31:51.986 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 89.8418ms
2022-06-02 12:31:51.986 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 12:31:51.987 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 110.1801ms
2022-06-02 12:31:52.000 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:31:52.001 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3839ms
2022-06-02 12:44:25.097 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 12:44:25.662 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 12:44:25.663 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 12:44:25.665 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 12:44:25.665 +03:00 [Information] Hosting environment: "Development"
2022-06-02 12:44:25.665 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 12:44:26.112 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 12:44:26.438 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:44:26.455 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 12:44:27.237 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:44:27.584 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 12:44:28.005 +03:00 [Information] Executed DbCommand ("45"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 12:44:28.114 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:44:28.264 +03:00 [Information] Executed ViewResult - view "Index" executed in 150.3018ms.
2022-06-02 12:44:28.267 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1810.9201ms
2022-06-02 12:44:28.267 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 12:44:28.296 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2188.9103ms
2022-06-02 12:44:28.350 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:44:28.350 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 12:44:28.354 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.7552ms
2022-06-02 12:44:28.355 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 12:44:28.356 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 5.5801ms
2022-06-02 12:45:05.938 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-02 12:45:05.949 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-02 12:45:05.952 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-02 12:45:05.990 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 12:45:06.043 +03:00 [Information] Executed DbCommand ("25"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-02 12:45:06.087 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 12:45:06.109 +03:00 [Information] Executed ViewResult - view "Index" executed in 22.7766ms.
2022-06-02 12:45:06.109 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 157.0528ms
2022-06-02 12:45:06.109 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-02 12:45:06.113 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 175.0980ms
2022-06-02 12:45:06.164 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - -
2022-06-02 12:45:06.165 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 12:45:06.166 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5064ms
2022-06-02 12:45:06.191 +03:00 [Information] Sending file. Request path: '"/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg"'
2022-06-02 12:45:06.191 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/dark-grim-reaper-esport-gaming-mascot-logo-template-badge-esport-logo-design-vector-grim-reaper-esport-team-logo-badge-163452966.jpg - - - 200 47758 image/jpeg 26.9100ms
2022-06-02 12:45:19.578 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-02 12:45:19.585 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-02 12:45:19.585 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 7.6621ms
2022-06-02 12:45:19.608 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-02 12:45:19.611 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-02 12:45:19.611 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 3.0204ms
2022-06-02 13:06:55.893 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:06:56.433 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:06:56.433 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:06:56.436 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:06:56.436 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:06:56.436 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:06:56.924 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:06:57.920 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:07:00.106 +03:00 [Information] Executed DbCommand ("44"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-02 13:07:00.244 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-02 13:07:00.253 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:07:00.263 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:07:00.352 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:07:00.373 +03:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:07:00.433 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:07:00.568 +03:00 [Information] Executed ViewResult - view "Index" executed in 134.9923ms.
2022-06-02 13:07:00.571 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 307.4461ms
2022-06-02 13:07:00.571 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:07:00.602 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3679.5494ms
2022-06-02 13:07:00.617 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 13:07:00.617 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:07:00.621 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.6780ms
2022-06-02 13:07:00.622 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 13:07:00.623 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 5.8698ms
2022-06-02 13:07:07.260 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:07:07.265 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:07:07.271 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:07:07.307 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:07:07.321 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:07:07.335 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:07:07.337 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:07:07.370 +03:00 [Information] Executed ViewResult - view "Index" executed in 34.0892ms.
2022-06-02 13:07:07.370 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 99.4981ms
2022-06-02 13:07:07.370 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:07:07.372 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 111.8377ms
2022-06-02 13:07:07.386 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:07:07.387 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5824ms
2022-06-02 13:07:09.608 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - -
2022-06-02 13:07:09.617 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:07:09.618 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:07:09.619 +03:00 [Information] Executing ViewResult, running view "DeleteTour".
2022-06-02 13:07:09.622 +03:00 [Error] The view '"DeleteTour"' was not found. Searched locations: ["/Views/Tours/DeleteTour.cshtml", "/Views/Shared/DeleteTour.cshtml", "/Pages/Shared/DeleteTour.cshtml"]
2022-06-02 13:07:09.624 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTour (travelAgency)" in 5.9999ms
2022-06-02 13:07:09.624 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:07:09.625 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DeleteTour' was not found. The following locations were searched:
/Views/Tours/DeleteTour.cshtml
/Views/Shared/DeleteTour.cshtml
/Pages/Shared/DeleteTour.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 13:07:09.678 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - - - 500 - text/html;+charset=utf-8 70.4878ms
2022-06-02 13:07:09.695 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:07:09.695 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2274ms
2022-06-02 13:07:16.533 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:07:16.534 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:07:16.534 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:07:16.541 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:07:16.545 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:07:16.546 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:07:16.553 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.1769ms.
2022-06-02 13:07:16.553 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 19.0553ms
2022-06-02 13:07:16.553 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:07:16.554 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 20.8832ms
2022-06-02 13:07:16.570 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:07:16.570 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.2246ms
2022-06-02 13:10:45.288 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:10:45.953 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:10:45.953 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:10:45.955 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:10:45.955 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:10:45.955 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:10:46.634 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:10:46.857 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:10:46.872 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:10:47.616 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:10:47.955 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:10:48.372 +03:00 [Information] Executed DbCommand ("44"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:10:48.486 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:10:48.637 +03:00 [Information] Executed ViewResult - view "Index" executed in 151.8357ms.
2022-06-02 13:10:48.640 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1767.4162ms
2022-06-02 13:10:48.640 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:10:48.668 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2036.0199ms
2022-06-02 13:10:48.677 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:10:48.680 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6764ms
2022-06-02 13:10:51.031 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:10:51.036 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:10:51.042 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:10:51.078 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:10:51.108 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:10:51.122 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:10:51.123 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:10:51.143 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.4398ms.
2022-06-02 13:10:51.143 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 101.6048ms
2022-06-02 13:10:51.143 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:10:51.145 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 114.0875ms
2022-06-02 13:10:51.158 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:10:51.159 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3054ms
2022-06-02 13:10:53.590 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour - -
2022-06-02 13:10:53.600 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:10:53.601 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:10:53.602 +03:00 [Information] Executing ViewResult, running view "DeleteTour".
2022-06-02 13:12:05.657 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:12:06.241 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:12:06.241 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:12:06.244 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:12:06.244 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:12:06.244 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:12:06.978 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:12:07.233 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:07.248 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:12:08.114 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:12:08.528 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:12:10.292 +03:00 [Information] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:12:10.402 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:12:10.538 +03:00 [Information] Executed ViewResult - view "Index" executed in 136.6355ms.
2022-06-02 13:12:10.541 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 3291.591ms
2022-06-02 13:12:10.541 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:10.570 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3595.6101ms
2022-06-02 13:12:10.582 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:12:10.586 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.0976ms
2022-06-02 13:12:13.460 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:12:13.464 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:12:13.470 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:12:13.507 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:12:13.522 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:12:13.537 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:12:13.539 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:12:13.560 +03:00 [Information] Executed ViewResult - view "Index" executed in 21.9163ms.
2022-06-02 13:12:13.560 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 89.8169ms
2022-06-02 13:12:13.560 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:12:13.561 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 101.7705ms
2022-06-02 13:12:13.576 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:12:13.577 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3664ms
2022-06-02 13:12:17.074 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - -
2022-06-02 13:12:17.084 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:12:17.085 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:12:27.286 +03:00 [Information] Executing ViewResult, running view "DeleteTour".
2022-06-02 13:12:27.290 +03:00 [Error] The view '"DeleteTour"' was not found. Searched locations: ["/Views/Tours/DeleteTour.cshtml", "/Views/Shared/DeleteTour.cshtml", "/Pages/Shared/DeleteTour.cshtml"]
2022-06-02 13:12:27.296 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTour (travelAgency)" in 10211.1444ms
2022-06-02 13:12:27.298 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:12:27.302 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DeleteTour' was not found. The following locations were searched:
/Views/Tours/DeleteTour.cshtml
/Views/Shared/DeleteTour.cshtml
/Pages/Shared/DeleteTour.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 13:12:27.354 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - - - 500 - text/html;+charset=utf-8 10279.7332ms
2022-06-02 13:12:27.569 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:12:27.569 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3918ms
2022-06-02 13:12:41.341 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:12:41.803 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:12:41.803 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:12:41.806 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:12:41.806 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:12:41.806 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:12:42.562 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:12:42.783 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:42.797 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:12:43.555 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:12:43.886 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:12:44.289 +03:00 [Information] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:12:44.405 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:12:44.562 +03:00 [Information] Executed ViewResult - view "Index" executed in 157.5381ms.
2022-06-02 13:12:44.565 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1767.2735ms
2022-06-02 13:12:44.565 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:44.591 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2031.1692ms
2022-06-02 13:12:44.604 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:12:44.606 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.4430ms
2022-06-02 13:12:51.333 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Delete - -
2022-06-02 13:12:51.343 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Delete - - - 404 0 - 9.7610ms
2022-06-02 13:12:53.322 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:12:53.331 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:53.331 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:12:53.370 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:12:53.376 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:12:53.377 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:12:53.390 +03:00 [Information] Executed ViewResult - view "Index" executed in 12.9189ms.
2022-06-02 13:12:53.390 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 59.2901ms
2022-06-02 13:12:53.390 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:12:53.391 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 69.6653ms
2022-06-02 13:12:53.410 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:12:53.410 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3063ms
2022-06-02 13:13:11.446 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:13:11.447 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:11.447 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:13:11.455 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:13:11.457 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:13:11.458 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:13:11.465 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.1207ms.
2022-06-02 13:13:11.465 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 17.5545ms
2022-06-02 13:13:11.465 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:11.466 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 20.0631ms
2022-06-02 13:13:11.482 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:11.483 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3002ms
2022-06-02 13:13:12.787 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Delete - -
2022-06-02 13:13:12.791 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Delete - - - 404 0 - 3.2879ms
2022-06-02 13:13:19.737 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:13:20.146 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:13:20.146 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:13:20.149 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:13:20.149 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:13:20.149 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:13:20.503 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:13:20.795 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:20.812 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:13:21.590 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:13:21.919 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:13:22.339 +03:00 [Information] Executed DbCommand ("50"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:13:22.460 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:13:22.629 +03:00 [Information] Executed ViewResult - view "Index" executed in 169.2525ms.
2022-06-02 13:13:22.631 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1817.9962ms
2022-06-02 13:13:22.631 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:22.659 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2160.6017ms
2022-06-02 13:13:22.669 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:22.671 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.5333ms
2022-06-02 13:13:24.553 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:13:24.558 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:13:24.564 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:13:24.600 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:13:24.615 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:13:24.630 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:13:24.631 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:13:24.652 +03:00 [Information] Executed ViewResult - view "Index" executed in 21.304ms.
2022-06-02 13:13:24.652 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 87.6139ms
2022-06-02 13:13:24.652 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:13:24.653 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 99.9617ms
2022-06-02 13:13:24.670 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:24.670 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2783ms
2022-06-02 13:13:26.129 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - -
2022-06-02 13:13:26.143 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:13:26.155 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:13:42.690 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:13:43.077 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:13:43.077 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:13:43.085 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:13:43.085 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:13:43.086 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:13:43.762 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:13:44.005 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:44.021 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:13:44.949 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:13:45.295 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:13:45.785 +03:00 [Information] Executed DbCommand ("49"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:13:45.905 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:13:46.060 +03:00 [Information] Executed ViewResult - view "Index" executed in 155.724ms.
2022-06-02 13:13:46.063 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2041.6897ms
2022-06-02 13:13:46.064 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:13:46.093 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2334.6904ms
2022-06-02 13:13:46.104 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:46.107 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.8477ms
2022-06-02 13:13:47.597 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:13:47.601 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:13:47.610 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:13:47.648 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:13:47.669 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:13:47.683 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:13:47.685 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:13:47.705 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.2481ms.
2022-06-02 13:13:47.705 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 94.8738ms
2022-06-02 13:13:47.705 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:13:47.706 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 109.0986ms
2022-06-02 13:13:47.722 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:47.722 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6450ms
2022-06-02 13:13:48.884 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - -
2022-06-02 13:13:48.894 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:13:48.895 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:13:48.896 +03:00 [Information] Executing ViewResult, running view "DeleteTour".
2022-06-02 13:13:48.900 +03:00 [Error] The view '"DeleteTour"' was not found. Searched locations: ["/Views/Tours/DeleteTour.cshtml", "/Views/Shared/DeleteTour.cshtml", "/Pages/Shared/DeleteTour.cshtml"]
2022-06-02 13:13:48.902 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTour (travelAgency)" in 7.2705ms
2022-06-02 13:13:48.903 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 13:13:48.904 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DeleteTour' was not found. The following locations were searched:
/Views/Tours/DeleteTour.cshtml
/Views/Shared/DeleteTour.cshtml
/Pages/Shared/DeleteTour.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 13:13:48.961 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - - - 500 - text/html;+charset=utf-8 77.0018ms
2022-06-02 13:13:48.975 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:13:48.976 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6649ms
2022-06-02 13:14:22.061 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:14:22.827 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:14:22.827 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:14:22.830 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:14:22.830 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:14:22.830 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:14:23.506 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:14:23.728 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:14:23.743 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:14:24.505 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:14:24.845 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:14:25.259 +03:00 [Information] Executed DbCommand ("41"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:14:25.365 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:14:25.507 +03:00 [Information] Executed ViewResult - view "Index" executed in 142.1533ms.
2022-06-02 13:14:25.510 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1766.4623ms
2022-06-02 13:14:25.510 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:14:25.536 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2032.4734ms
2022-06-02 13:14:25.552 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:14:25.552 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 13:14:25.555 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.8483ms
2022-06-02 13:14:25.557 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 13:14:25.558 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 6.0321ms
2022-06-02 13:14:26.439 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:14:26.447 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:14:26.452 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:14:26.493 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:14:26.511 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:14:26.527 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:14:26.529 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:14:26.561 +03:00 [Information] Executed ViewResult - view "Index" executed in 33.1398ms.
2022-06-02 13:14:26.561 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 109.5451ms
2022-06-02 13:14:26.561 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:14:26.565 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 126.0440ms
2022-06-02 13:14:26.579 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:14:26.579 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5500ms
2022-06-02 13:14:27.879 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - -
2022-06-02 13:14:27.889 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:14:27.898 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:14:36.007 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:14:36.050 +03:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-02 13:14:36.214 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)" in 8315.7853ms
2022-06-02 13:14:36.216 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:14:36.219 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'entity')
   at Microsoft.EntityFrameworkCore.Utilities.Check.NotNull[T](T value, String parameterName)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Remove(TEntity entity)
   at DLL.Repository.TourRepository.DeleteTourAsync(Int32 remTourId) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\TourRepository.cs:line 42
   at BLL.Services.UserService.DeleteTourAsync(Int32 remTourId) in E:\GitHub\TravelAgency\travelAgency\BLL\Services\UserService.cs:line 49
   at travelAgency.Controllers.ToursController.DeleteTourAsync(Int32 remTourId) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Controllers\ToursController.cs:line 108
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 13:14:36.321 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - - - 500 - text/html;+charset=utf-8 8441.8534ms
2022-06-02 13:14:36.336 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:14:36.336 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2378ms
2022-06-02 13:15:03.560 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:15:03.961 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:15:03.961 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:15:03.964 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:15:03.964 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:15:03.964 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:15:04.406 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:15:04.631 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:15:04.645 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:15:05.413 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:15:05.758 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:15:06.160 +03:00 [Information] Executed DbCommand ("42"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:15:06.272 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:15:06.427 +03:00 [Information] Executed ViewResult - view "Index" executed in 155.5385ms.
2022-06-02 13:15:06.430 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1784.8189ms
2022-06-02 13:15:06.431 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:15:06.459 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2054.6602ms
2022-06-02 13:15:06.472 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:15:06.475 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.7132ms
2022-06-02 13:15:08.441 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:15:08.447 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:15:08.454 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:15:08.490 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:15:08.507 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:15:08.520 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:15:08.521 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:15:08.543 +03:00 [Information] Executed ViewResult - view "Index" executed in 22.3857ms.
2022-06-02 13:15:08.543 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 89.3146ms
2022-06-02 13:15:08.543 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:15:08.544 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 103.0337ms
2022-06-02 13:15:08.559 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:15:08.559 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6144ms
2022-06-02 13:15:10.724 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - -
2022-06-02 13:15:10.734 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:15:10.744 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:15:34.128 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:15:34.394 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:15:34.394 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:15:34.397 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:15:34.397 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:15:34.397 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:15:35.296 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:15:35.755 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:15:35.792 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:15:36.678 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:15:37.008 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:15:37.403 +03:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:15:37.528 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:15:37.685 +03:00 [Information] Executed ViewResult - view "Index" executed in 157.7962ms.
2022-06-02 13:15:37.688 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1895.4531ms
2022-06-02 13:15:37.688 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:15:37.715 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2422.1738ms
2022-06-02 13:15:37.727 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:15:37.729 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.4256ms
2022-06-02 13:15:39.249 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:15:39.272 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:15:39.274 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:15:39.315 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:15:39.332 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:15:39.346 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:15:39.347 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:15:39.364 +03:00 [Information] Executed ViewResult - view "Index" executed in 17.4962ms.
2022-06-02 13:15:39.364 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 89.7025ms
2022-06-02 13:15:39.364 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:15:39.365 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 116.4645ms
2022-06-02 13:15:39.386 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:15:39.388 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.6717ms
2022-06-02 13:15:42.115 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/2 - -
2022-06-02 13:15:42.127 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:15:42.136 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:17:36.946 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:17:46.850 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:17:47.128 +03:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 13:17:47.152 +03:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 13:17:47.155 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 13:17:47.155 +03:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 13:17:47.165 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-02 13:17:47.178 +03:00 [Information] Applying migration '"20220602101737_DataUpdate"'.
2022-06-02 13:17:47.258 +03:00 [Information] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Comments] DROP CONSTRAINT [FK_Comments_AspNetUsers_UserCommentId];"
2022-06-02 13:17:47.260 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Reserves] DROP CONSTRAINT [FK_Reserves_AspNetUsers_UserReserveId];"
2022-06-02 13:17:47.262 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Reserves_UserReserveId] ON [Reserves];"
2022-06-02 13:17:47.263 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DROP INDEX [IX_Comments_UserCommentId] ON [Comments];"
2022-06-02 13:17:47.294 +03:00 [Information] Executed DbCommand ("31"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Reserves]') AND [c].[name] = N'UserReserveId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Reserves] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Reserves] DROP COLUMN [UserReserveId];"
2022-06-02 13:17:47.303 +03:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comments]') AND [c].[name] = N'UserCommentId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Comments] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Comments] DROP COLUMN [UserCommentId];"
2022-06-02 13:17:47.314 +03:00 [Information] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Reserves]') AND [c].[name] = N'UserId');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Reserves] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Reserves] ALTER COLUMN [UserId] nvarchar(450) NOT NULL;"
2022-06-02 13:17:47.323 +03:00 [Information] Executed DbCommand ("9"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Comments]') AND [c].[name] = N'UserId');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Comments] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Comments] ALTER COLUMN [UserId] nvarchar(450) NOT NULL;"
2022-06-02 13:17:47.324 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Reserves_UserId] ON [Reserves] ([UserId]);"
2022-06-02 13:17:47.324 +03:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_UserId] ON [Comments] ([UserId]);"
2022-06-02 13:17:47.330 +03:00 [Error] Failed executing DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""ALTER TABLE [Comments] ADD CONSTRAINT [FK_Comments_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;"
2022-06-02 13:19:24.306 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:19:39.555 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:19:39.829 +03:00 [Information] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 13:19:39.853 +03:00 [Information] Executed DbCommand ("15"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 13:19:39.855 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 13:19:39.856 +03:00 [Information] Executed DbCommand ("0"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 13:19:39.865 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-02 13:19:39.877 +03:00 [Information] Applying migration '"20220602101924_DataUpdate"'.
2022-06-02 13:19:39.919 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220602101924_DataUpdate', N'6.0.5');"
2022-06-02 13:23:53.218 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:23:53.491 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:23:53.492 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:23:53.494 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:23:53.494 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:23:53.494 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:23:54.204 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:23:54.777 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:23:54.799 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:23:55.703 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:23:56.035 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:23:56.444 +03:00 [Information] Executed DbCommand ("46"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:23:56.550 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:23:56.697 +03:00 [Information] Executed ViewResult - view "Index" executed in 146.5693ms.
2022-06-02 13:23:56.699 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1899.5092ms
2022-06-02 13:23:56.700 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:23:56.726 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2524.9555ms
2022-06-02 13:23:56.738 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:23:56.738 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 13:23:56.741 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7856ms
2022-06-02 13:23:56.742 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 13:23:56.743 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 4.8100ms
2022-06-02 13:23:59.299 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:23:59.306 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:23:59.312 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:23:59.349 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:23:59.365 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:23:59.380 +03:00 [Information] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:23:59.382 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:23:59.405 +03:00 [Information] Executed ViewResult - view "Index" executed in 23.9705ms.
2022-06-02 13:23:59.406 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 93.0649ms
2022-06-02 13:23:59.406 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:23:59.407 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 107.5735ms
2022-06-02 13:23:59.421 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:23:59.421 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3880ms
2022-06-02 13:24:21.132 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/2 - -
2022-06-02 13:24:21.145 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 13:24:21.156 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:27:08.854 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 13:27:09.564 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 13:27:09.565 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 13:27:09.568 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 13:27:09.568 +03:00 [Information] Hosting environment: "Development"
2022-06-02 13:27:09.568 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 13:27:09.827 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 13:27:10.095 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:27:10.115 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 13:27:10.909 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:27:11.272 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:27:11.773 +03:00 [Information] Executed DbCommand ("47"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 13:27:11.891 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:27:12.035 +03:00 [Information] Executed ViewResult - view "Index" executed in 144.4215ms.
2022-06-02 13:27:12.038 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1921.6838ms
2022-06-02 13:27:12.038 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 13:27:12.071 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2247.3034ms
2022-06-02 13:27:12.089 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:27:12.091 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6832ms
2022-06-02 13:27:13.739 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:27:13.742 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:27:13.749 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:27:13.788 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:27:13.806 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 13:27:13.819 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:27:13.821 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:27:13.841 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.9284ms.
2022-06-02 13:27:13.841 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 92.2063ms
2022-06-02 13:27:13.841 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:27:13.843 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 103.9529ms
2022-06-02 13:27:13.857 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:27:13.857 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3166ms
2022-06-02 13:27:15.007 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTourAsync/1 - -
2022-06-02 13:27:15.034 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTourAsync/1 - - - 404 0 - 26.5663ms
2022-06-02 13:27:17.194 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 13:27:17.195 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:27:17.195 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 13:27:17.204 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 13:27:17.209 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 13:27:17.210 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 13:27:17.223 +03:00 [Information] Executed ViewResult - view "Index" executed in 12.8551ms.
2022-06-02 13:27:17.223 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 27.4712ms
2022-06-02 13:27:17.223 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 13:27:17.224 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 30.3773ms
2022-06-02 13:27:17.241 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 13:27:17.242 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3908ms
2022-06-02 13:27:29.262 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTourAsync/1 - -
2022-06-02 13:27:29.265 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTourAsync/1 - - - 404 0 - 3.0368ms
2022-06-02 14:40:37.644 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 14:40:38.122 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 14:40:38.122 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 14:40:38.124 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 14:40:38.125 +03:00 [Information] Hosting environment: "Development"
2022-06-02 14:40:38.125 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 14:40:38.594 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:40:39.849 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:40:42.095 +03:00 [Information] Executed DbCommand ("46"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-02 14:40:42.239 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-02 14:40:42.248 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:40:42.257 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:40:42.363 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:40:42.386 +03:00 [Information] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:40:42.452 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:40:42.608 +03:00 [Information] Executed ViewResult - view "Index" executed in 154.9039ms.
2022-06-02 14:40:42.611 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 353.3501ms
2022-06-02 14:40:42.611 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:40:42.648 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 4056.1421ms
2022-06-02 14:40:42.663 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-02 14:40:42.663 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-02 14:40:42.663 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:40:42.668 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.5833ms
2022-06-02 14:40:42.669 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-02 14:40:42.670 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-02 14:40:42.670 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 304 - text/css 6.7917ms
2022-06-02 14:40:42.670 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 6.8392ms
2022-06-02 14:40:44.803 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:40:44.809 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:40:44.817 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:40:44.854 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:40:44.870 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:40:44.882 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:40:44.884 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:40:44.903 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.0297ms.
2022-06-02 14:40:44.903 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 86.3034ms
2022-06-02 14:40:44.903 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:40:44.905 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 101.5263ms
2022-06-02 14:40:44.949 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:40:44.950 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4050ms
2022-06-02 14:40:46.816 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour/1 - -
2022-06-02 14:40:46.826 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 14:40:46.836 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:41.176 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 14:41:41.699 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 14:41:41.700 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 14:41:41.702 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 14:41:41.702 +03:00 [Information] Hosting environment: "Development"
2022-06-02 14:41:41.702 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 14:41:42.352 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:41:42.623 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:41:42.645 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:41:43.658 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:44.089 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:41:44.505 +03:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:41:44.620 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:44.826 +03:00 [Information] Executed ViewResult - view "Index" executed in 206.8102ms.
2022-06-02 14:41:44.828 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2183.2877ms
2022-06-02 14:41:44.829 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:41:44.867 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2518.5560ms
2022-06-02 14:41:44.884 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:44.886 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6248ms
2022-06-02 14:41:46.652 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:46.661 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:46.668 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:46.707 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:46.724 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:41:46.738 +03:00 [Information] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:46.740 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:46.756 +03:00 [Information] Executed ViewResult - view "Index" executed in 16.5329ms.
2022-06-02 14:41:46.756 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 88.3583ms
2022-06-02 14:41:46.756 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:46.759 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 106.2688ms
2022-06-02 14:41:46.790 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:46.791 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.6096ms
2022-06-02 14:41:47.831 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - -
2022-06-02 14:41:47.841 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 14:41:47.851 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:54.679 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:54.722 +03:00 [Information] Executed DbCommand ("20"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-02 14:41:54.825 +03:00 [Information] Executed DbCommand ("11"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Tours]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;"
2022-06-02 14:41:54.849 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:54.849 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:54.857 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.479ms.
2022-06-02 14:41:54.857 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)" in 7005.596ms
2022-06-02 14:41:54.857 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 14:41:54.858 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=1 - - - 200 - text/html;+charset=utf-8 7027.1274ms
2022-06-02 14:41:54.881 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:54.882 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3262ms
2022-06-02 14:41:57.780 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:57.781 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:57.781 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:57.782 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:57.784 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:57.785 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:57.792 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.3649ms.
2022-06-02 14:41:57.792 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 10.5081ms
2022-06-02 14:41:57.792 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:57.793 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 12.8960ms
2022-06-02 14:41:57.809 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:57.809 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3711ms
2022-06-02 14:41:58.866 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:58.866 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:58.867 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:58.868 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:58.870 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:58.871 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:58.879 +03:00 [Information] Executed ViewResult - view "Index" executed in 8.1207ms.
2022-06-02 14:41:58.879 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 12.0333ms
2022-06-02 14:41:58.879 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:58.880 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 14.6754ms
2022-06-02 14:41:58.895 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:58.895 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2637ms
2022-06-02 14:41:59.069 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:59.070 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.070 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:59.070 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:59.072 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:59.073 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:59.077 +03:00 [Information] Executed ViewResult - view "Index" executed in 4.6381ms.
2022-06-02 14:41:59.078 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 7.8192ms
2022-06-02 14:41:59.078 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.079 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 10.1070ms
2022-06-02 14:41:59.091 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:59.091 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3001ms
2022-06-02 14:41:59.266 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:59.267 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.268 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:59.269 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:59.274 +03:00 [Information] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:59.274 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:59.280 +03:00 [Information] Executed ViewResult - view "Index" executed in 5.7827ms.
2022-06-02 14:41:59.280 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 11.8851ms
2022-06-02 14:41:59.280 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.282 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 15.7986ms
2022-06-02 14:41:59.296 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:59.296 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2332ms
2022-06-02 14:41:59.419 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:41:59.420 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.420 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:41:59.422 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:41:59.423 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:41:59.426 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:41:59.439 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.0883ms.
2022-06-02 14:41:59.439 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 18.5925ms
2022-06-02 14:41:59.439 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:41:59.440 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 20.8603ms
2022-06-02 14:41:59.452 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:41:59.453 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5418ms
2022-06-02 14:42:45.348 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 14:42:46.362 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 14:42:46.362 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 14:42:46.364 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 14:42:46.365 +03:00 [Information] Hosting environment: "Development"
2022-06-02 14:42:46.365 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 14:42:46.779 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:42:47.058 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:42:47.079 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:42:47.871 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:42:48.230 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:42:48.644 +03:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:42:48.764 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:42:48.914 +03:00 [Information] Executed ViewResult - view "Index" executed in 150.4733ms.
2022-06-02 14:42:48.917 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 1837.892ms
2022-06-02 14:42:48.918 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:42:48.945 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2170.7164ms
2022-06-02 14:42:48.958 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:42:48.961 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7145ms
2022-06-02 14:42:55.166 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin/AddEmployee - -
2022-06-02 14:42:55.173 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 14:42:55.180 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddEmployeeAsync()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-02 14:42:55.182 +03:00 [Information] Executing ViewResult, running view "AddEmployee".
2022-06-02 14:42:55.218 +03:00 [Information] Executed ViewResult - view "AddEmployee" executed in 36.7214ms.
2022-06-02 14:42:55.218 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 37.9439ms
2022-06-02 14:42:55.218 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-02 14:42:55.220 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin/AddEmployee - - - 200 - text/html;+charset=utf-8 53.2511ms
2022-06-02 14:42:55.233 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:42:55.234 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.8713ms
2022-06-02 14:43:05.954 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-02 14:43:05.964 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-02 14:43:05.966 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:43:05.967 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-02 14:43:06.014 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 47.677ms.
2022-06-02 14:43:06.014 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 48.446ms
2022-06-02 14:43:06.014 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-02 14:43:06.015 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 61.1448ms
2022-06-02 14:43:06.030 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:43:06.031 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.0657ms
2022-06-02 14:43:36.977 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-02 14:43:37.011 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-02 14:43:37.012 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 34.3045ms
2022-06-02 14:43:37.013 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-02 14:43:37.046 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-02 14:43:37.046 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 33.7422ms
2022-06-02 14:43:47.457 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 431
2022-06-02 14:43:47.462 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-02 14:43:47.475 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:43:47.547 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:43:47.610 +03:00 [Information] Executed DbCommand ("27"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:43:50.124 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 14:43:50.147 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 14:43:50.151 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Tours] ([CountPeople], [Duration], [EmployeeId], [HotelId], [IsHotTour], [Price], [Rating], [TypeTransport])
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT [Id]
FROM [Tours]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-02 14:43:50.182 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:43:50.194 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:43:50.195 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:43:50.215 +03:00 [Information] Executed ViewResult - view "Index" executed in 20.0285ms.
2022-06-02 14:43:50.215 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 2739.9153ms
2022-06-02 14:43:50.215 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-02 14:43:50.217 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 431 - 200 - text/html;+charset=utf-8 2759.1111ms
2022-06-02 14:43:50.280 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:43:50.281 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2700ms
2022-06-02 14:43:55.630 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=3 - -
2022-06-02 14:43:55.631 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 14:43:55.632 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult DeleteTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:43:55.633 +03:00 [Information] Executing ViewResult, running view "DeleteTour".
2022-06-02 14:43:55.635 +03:00 [Error] The view '"DeleteTour"' was not found. Searched locations: ["/Views/Tours/DeleteTour.cshtml", "/Views/Shared/DeleteTour.cshtml", "/Pages/Shared/DeleteTour.cshtml"]
2022-06-02 14:43:55.637 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTour (travelAgency)" in 4.5351ms
2022-06-02 14:43:55.637 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTour (travelAgency)"'
2022-06-02 14:43:55.638 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DeleteTour' was not found. The following locations were searched:
/Views/Tours/DeleteTour.cshtml
/Views/Shared/DeleteTour.cshtml
/Pages/Shared/DeleteTour.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-02 14:43:55.692 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=3 - - - 500 - text/html;+charset=utf-8 61.0717ms
2022-06-02 14:43:55.712 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:43:55.712 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2659ms
2022-06-02 14:44:18.421 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-02 14:44:19.128 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-02 14:44:19.128 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-02 14:44:19.136 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-02 14:44:19.136 +03:00 [Information] Hosting environment: "Development"
2022-06-02 14:44:19.136 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-02 14:44:20.147 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:44:20.511 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:20.542 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:44:21.516 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:44:21.873 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:44:22.309 +03:00 [Information] Executed DbCommand ("43"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:44:22.423 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:44:22.580 +03:00 [Information] Executed ViewResult - view "Index" executed in 156.0621ms.
2022-06-02 14:44:22.583 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2039.1471ms
2022-06-02 14:44:22.583 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:22.613 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2472.2373ms
2022-06-02 14:44:22.782 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:44:22.785 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.6673ms
2022-06-02 14:44:35.523 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Delete - -
2022-06-02 14:44:35.533 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Delete - - - 404 0 - 10.0179ms
2022-06-02 14:44:37.384 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:44:37.395 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:37.395 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:44:37.436 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:44:37.442 +03:00 [Information] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:44:37.444 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:44:37.455 +03:00 [Information] Executed ViewResult - view "Index" executed in 11.2122ms.
2022-06-02 14:44:37.455 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 59.6629ms
2022-06-02 14:44:37.455 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:37.456 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 71.4980ms
2022-06-02 14:44:37.475 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:44:37.477 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.3094ms
2022-06-02 14:44:55.974 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Delete - -
2022-06-02 14:44:55.979 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Delete - - - 404 0 - 4.8134ms
2022-06-02 14:44:57.953 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-02 14:44:57.954 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:57.954 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-02 14:44:57.962 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:44:57.965 +03:00 [Information] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-02 14:44:57.971 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:44:57.980 +03:00 [Information] Executed ViewResult - view "Index" executed in 9.7393ms.
2022-06-02 14:44:57.981 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 26.0814ms
2022-06-02 14:44:57.981 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-02 14:44:57.982 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 28.1133ms
2022-06-02 14:44:58.007 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:44:58.008 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2981ms
2022-06-02 14:44:58.785 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-02 14:44:58.786 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:44:58.789 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:44:58.791 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:44:58.807 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-02 14:44:58.819 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:44:58.820 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:44:58.835 +03:00 [Information] Executed ViewResult - view "Index" executed in 16.343ms.
2022-06-02 14:44:58.836 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 46.8304ms
2022-06-02 14:44:58.836 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-02 14:44:58.837 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 51.8634ms
2022-06-02 14:44:58.851 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:44:58.851 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2652ms
2022-06-02 14:45:00.382 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=2 - -
2022-06-02 14:45:00.383 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 14:45:00.393 +03:00 [Information] Route matched with "{action = \"DeleteTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteTourAsync(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-02 14:45:00.405 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 14:45:00.442 +03:00 [Information] Executed DbCommand ("18"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-02 14:45:00.544 +03:00 [Information] Executed DbCommand ("6"ms) [Parameters=["@p0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
DELETE FROM [Tours]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;"
2022-06-02 14:45:00.564 +03:00 [Information] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-02 14:45:00.564 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-02 14:45:00.573 +03:00 [Information] Executed ViewResult - view "Index" executed in 8.778ms.
2022-06-02 14:45:00.573 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)" in 179.8737ms
2022-06-02 14:45:00.573 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.DeleteTourAsync (travelAgency)"'
2022-06-02 14:45:00.574 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/DeleteTour?remTourId=2 - - - 200 - text/html;+charset=utf-8 191.8826ms
2022-06-02 14:45:00.589 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-02 14:45:00.589 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2393ms
2022-06-02 20:44:22.933 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 20:45:04.124 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-02 20:45:05.673 +03:00 [Information] Executed DbCommand ("125"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 20:45:05.803 +03:00 [Information] Executed DbCommand ("121"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 20:45:05.916 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 20:45:06.134 +03:00 [Information] Executed DbCommand ("118"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);"
2022-06-02 20:45:06.246 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-02 20:45:06.357 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-02 20:45:06.478 +03:00 [Information] Executed DbCommand ("119"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-02 20:45:06.491 +03:00 [Information] Applying migration '"20220530175443_FirstLoad"'.
2022-06-02 20:45:06.780 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-02 20:45:06.893 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(max) NOT NULL,
    [Name] nvarchar(max) NULL,
    [PhotoPath] nvarchar(max) NULL,
    [ReservesId] int NULL,
    [EmployeeId] int NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);"
2022-06-02 20:45:07.004 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [HotelAddresses] (
    [Id] int NOT NULL IDENTITY,
    [Country] nvarchar(max) NOT NULL,
    [City] nvarchar(max) NOT NULL,
    [Street] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_HotelAddresses] PRIMARY KEY ([Id])
);"
2022-06-02 20:45:07.117 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.229 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.341 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(128) NOT NULL,
    [ProviderKey] nvarchar(128) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.454 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.566 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(128) NOT NULL,
    [Name] nvarchar(128) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.679 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Employees] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_Employees] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Employees_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.792 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Hotels] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Rating] int NOT NULL,
    [TypeFood] nvarchar(max) NOT NULL,
    [TypeBeach] nvarchar(max) NOT NULL,
    [PhotoPathId] int NOT NULL,
    [HotelAddressId] int NOT NULL,
    CONSTRAINT [PK_Hotels] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Hotels_HotelAddresses_HotelAddressId] FOREIGN KEY ([HotelAddressId]) REFERENCES [HotelAddresses] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:07.905 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Tours] (
    [Id] int NOT NULL IDENTITY,
    [Duration] nvarchar(max) NOT NULL,
    [Price] float NOT NULL,
    [TypeTransport] nvarchar(max) NOT NULL,
    [CountPeople] int NOT NULL,
    [Rating] int NOT NULL,
    [IsHotTour] bit NOT NULL,
    [EmployeeId] int NOT NULL,
    [CommentId] int NULL,
    [HotelId] int NULL,
    [ExcursionId] int NULL,
    [ReservesId] int NULL,
    CONSTRAINT [PK_Tours] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Tours_Employees_EmployeeId] FOREIGN KEY ([EmployeeId]) REFERENCES [Employees] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_Tours_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([Id])
);"
2022-06-02 20:45:08.018 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Comments] (
    [Id] int NOT NULL IDENTITY,
    [Caption] nvarchar(max) NOT NULL,
    [Content] nvarchar(max) NOT NULL,
    [SendingTime] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    [TourId] int NOT NULL,
    [UserCommentId] nvarchar(450) NULL,
    CONSTRAINT [PK_Comments] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Comments_AspNetUsers_UserCommentId] FOREIGN KEY ([UserCommentId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Comments_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:08.131 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Excursions] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [Price] float NOT NULL,
    [ExcursionTime] datetime2 NOT NULL,
    [TourId] int NOT NULL,
    [ShowPlaceId] int NOT NULL,
    CONSTRAINT [PK_Excursions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Excursions_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:08.244 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Reserves] (
    [Id] int NOT NULL IDENTITY,
    [BookingTime] datetime2 NOT NULL,
    [UserId] int NOT NULL,
    [TourId] int NOT NULL,
    [UserReserveId] nvarchar(450) NULL,
    CONSTRAINT [PK_Reserves] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Reserves_AspNetUsers_UserReserveId] FOREIGN KEY ([UserReserveId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Reserves_Tours_TourId] FOREIGN KEY ([TourId]) REFERENCES [Tours] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:08.356 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [ShowPlaces] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NOT NULL,
    [PhotoPathId] int NULL,
    [ExcursionId] int NOT NULL,
    CONSTRAINT [PK_ShowPlaces] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_ShowPlaces_Excursions_ExcursionId] FOREIGN KEY ([ExcursionId]) REFERENCES [Excursions] ([Id]) ON DELETE CASCADE
);"
2022-06-02 20:45:08.468 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [Image] (
    [Id] int NOT NULL IDENTITY,
    [Photo] nvarchar(max) NOT NULL,
    [HotelId] int NULL,
    [ShowPlaceId] int NULL,
    CONSTRAINT [PK_Image] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Image_Hotels_HotelId] FOREIGN KEY ([HotelId]) REFERENCES [Hotels] ([Id]),
    CONSTRAINT [FK_Image_ShowPlaces_ShowPlaceId] FOREIGN KEY ([ShowPlaceId]) REFERENCES [ShowPlaces] ([Id])
);"
2022-06-02 20:45:08.580 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);"
2022-06-02 20:45:08.691 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;"
2022-06-02 20:45:08.802 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);"
2022-06-02 20:45:08.913 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);"
2022-06-02 20:45:09.024 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);"
2022-06-02 20:45:09.135 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);"
2022-06-02 20:45:09.246 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;"
2022-06-02 20:45:09.357 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_TourId] ON [Comments] ([TourId]);"
2022-06-02 20:45:09.468 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Comments_UserCommentId] ON [Comments] ([UserCommentId]);"
2022-06-02 20:45:09.580 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE UNIQUE INDEX [IX_Employees_UserId] ON [Employees] ([UserId]);"
2022-06-02 20:45:09.691 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Excursions_TourId] ON [Excursions] ([TourId]);"
2022-06-02 20:45:09.802 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Hotels_HotelAddressId] ON [Hotels] ([HotelAddressId]);"
2022-06-02 20:45:09.913 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Image_HotelId] ON [Image] ([HotelId]);"
2022-06-02 20:45:10.024 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Image_ShowPlaceId] ON [Image] ([ShowPlaceId]);"
2022-06-02 20:45:10.135 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Reserves_TourId] ON [Reserves] ([TourId]);"
2022-06-02 20:45:10.246 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Reserves_UserReserveId] ON [Reserves] ([UserReserveId]);"
2022-06-02 20:45:10.357 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_ShowPlaces_ExcursionId] ON [ShowPlaces] ([ExcursionId]);"
2022-06-02 20:45:10.468 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Tours_EmployeeId] ON [Tours] ([EmployeeId]);"
2022-06-02 20:45:10.580 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE INDEX [IX_Tours_HotelId] ON [Tours] ([HotelId]);"
2022-06-02 20:45:10.692 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220530175443_FirstLoad', N'6.0.5');"
2022-06-02 20:45:10.811 +03:00 [Information] Applying migration '"20220602101924_DataUpdate"'.
2022-06-02 20:45:11.043 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220602101924_DataUpdate', N'6.0.5');"
2022-06-02 20:45:11.156 +03:00 [Information] Applying migration '"20220602174423_UpdateDb"'.
2022-06-02 20:45:11.387 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220602174423_UpdateDb', N'6.0.5');"
2022-06-05 16:56:49.332 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 16:56:50.307 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 16:56:50.307 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 16:56:50.311 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 16:56:50.311 +03:00 [Information] Hosting environment: "Development"
2022-06-05 16:56:50.311 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 16:56:51.020 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 16:56:52.360 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:56:54.481 +03:00 [Information] Executed DbCommand ("153"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-05 16:56:54.507 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed out.
2022-06-05 16:56:54.508 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-05 16:56:54.509 +03:00 [Information] AuthenticationScheme: "Identity.TwoFactorUserId" signed out.
2022-06-05 16:56:54.513 +03:00 [Information] "Identity.Application" was not authenticated. Failure message: "No principal."
2022-06-05 16:56:54.517 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:56:54.526 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 16:56:54.645 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 16:56:54.775 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 16:56:54.784 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 16:56:54.998 +03:00 [Information] Executed ViewResult - view "Index" executed in 214.2164ms.
2022-06-05 16:56:55.000 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 473.7603ms
2022-06-05 16:56:55.000 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:56:55.077 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 4058.8384ms
2022-06-05 16:56:55.087 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css - -
2022-06-05 16:56:55.087 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-05 16:56:55.087 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:56:55.087 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-05 16:56:55.087 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2022-06-05 16:56:55.110 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2022-06-05 16:56:55.115 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery/dist/jquery.min.js - -
2022-06-05 16:56:55.117 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 30.4014ms
2022-06-05 16:56:55.118 +03:00 [Information] The file "/lib/jquery/dist/jquery.min.js" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] The file "/js/site.js" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] The file "/lib/bootstrap/dist/css/bootstrap.min.css" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] The file "/lib/bootstrap/dist/js/bootstrap.bundle.min.js" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 304 - application/javascript 8.7883ms
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery/dist/jquery.min.js - - - 304 - application/javascript 3.4624ms
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 304 - text/css 31.1958ms
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css - - - 304 - text/css 31.5093ms
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 31.3977ms
2022-06-05 16:56:55.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 304 - application/javascript 31.1892ms
2022-06-05 16:56:58.869 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 16:56:58.872 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 16:56:58.875 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 16:56:58.957 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:56:59.020 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 16:56:59.148 +03:00 [Information] Executed DbCommand ("116"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 16:56:59.150 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 16:56:59.167 +03:00 [Information] Executed ViewResult - view "Index" executed in 18.0111ms.
2022-06-05 16:56:59.167 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 291.8192ms
2022-06-05 16:56:59.167 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 16:56:59.168 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 299.4318ms
2022-06-05 16:56:59.190 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:56:59.191 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3578ms
2022-06-05 16:57:11.284 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 16:57:11.777 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 16:57:11.777 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 16:57:11.783 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 16:57:11.783 +03:00 [Information] Hosting environment: "Development"
2022-06-05 16:57:11.783 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 16:57:12.471 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 16:57:12.557 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:57:12.588 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 16:57:13.515 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:57:13.871 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 16:57:15.030 +03:00 [Information] Executed DbCommand ("137"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 16:57:15.055 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 16:57:15.195 +03:00 [Information] Executed ViewResult - view "Index" executed in 140.4029ms.
2022-06-05 16:57:15.198 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2609.9011ms
2022-06-05 16:57:15.198 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:57:15.225 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2756.8059ms
2022-06-05 16:57:15.241 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:57:15.244 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7541ms
2022-06-05 16:57:17.007 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Register - -
2022-06-05 16:57:17.010 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-05 16:57:17.036 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-05 16:57:17.053 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnGetAsync" - ModelState is Valid
2022-06-05 16:57:17.055 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-05 16:57:17.058 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-05 16:57:17.059 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-05 16:57:17.111 +03:00 [Information] Executed page "/Account/Register" in 74.884ms
2022-06-05 16:57:17.111 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-05 16:57:17.115 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Register - - - 200 - text/html;+charset=utf-8 109.7773ms
2022-06-05 16:57:17.132 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - -
2022-06-05 16:57:17.132 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/lib/jquery-validation/dist/jquery.validate.js - -
2022-06-05 16:57:17.132 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:57:17.133 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.7527ms
2022-06-05 16:57:17.138 +03:00 [Information] The file "/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js" was not modified
2022-06-05 16:57:17.138 +03:00 [Information] The file "/Identity/lib/jquery-validation/dist/jquery.validate.js" was not modified
2022-06-05 16:57:17.138 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/lib/jquery-validation/dist/jquery.validate.js - - - 304 - application/javascript 6.1075ms
2022-06-05 16:57:17.138 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js - - - 304 - application/javascript 6.1690ms
2022-06-05 16:57:59.494 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryTKgiV1S848qyHPGj 597531
2022-06-05 16:57:59.503 +03:00 [Information] Executing endpoint '"/Account/Register"'
2022-06-05 16:57:59.503 +03:00 [Information] Route matched with "{page = \"/Account/Register\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Register"
2022-06-05 16:57:59.571 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.RegisterModel.OnPostAsync" - ModelState is Valid
2022-06-05 16:57:59.694 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:57:59.849 +03:00 [Information] Executed DbCommand ("130"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-05 16:58:00.235 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 4000), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Discriminator], [Email], [EmailConfirmed], [EmployeeId], [LockoutEnabled], [LockoutEnd], [Name], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [PhotoPath], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);"
2022-06-05 16:58:00.378 +03:00 [Information] User created a new account with password.
2022-06-05 16:58:01.711 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.RedirectToPageResult".
2022-06-05 16:58:01.713 +03:00 [Information] Executing RedirectToPageResult, redirecting to "RegisterConfirmation".
2022-06-05 16:58:01.713 +03:00 [Information] Executed page "/Account/Register" in 2209.9852ms
2022-06-05 16:58:01.713 +03:00 [Information] Executed endpoint '"/Account/Register"'
2022-06-05 16:58:01.715 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Register multipart/form-data;+boundary=----WebKitFormBoundaryTKgiV1S848qyHPGj 597531 - 302 0 - 2221.2928ms
2022-06-05 16:58:01.717 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=gevadov974@game4hr.com&returnUrl=%2F - -
2022-06-05 16:58:01.718 +03:00 [Information] Executing endpoint '"/Account/RegisterConfirmation"'
2022-06-05 16:58:01.720 +03:00 [Information] Route matched with "{page = \"/Account/RegisterConfirmation\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/RegisterConfirmation"
2022-06-05 16:58:01.725 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.RegisterConfirmationModel.OnGetAsync" - ModelState is Valid
2022-06-05 16:58:01.749 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:58:01.883 +03:00 [Information] Executed DbCommand ("124"ms) [Parameters=["@__normalizedEmail_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedEmail] = @__normalizedEmail_0)"
2022-06-05 16:58:01.894 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-05 16:58:01.908 +03:00 [Information] Executed page "/Account/RegisterConfirmation" in 187.6026ms
2022-06-05 16:58:01.908 +03:00 [Information] Executed endpoint '"/Account/RegisterConfirmation"'
2022-06-05 16:58:01.909 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/RegisterConfirmation?email=gevadov974@game4hr.com&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 191.6674ms
2022-06-05 16:58:01.925 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:58:01.926 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2902ms
2022-06-05 16:58:12.520 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=097e5519-3f6e-44f8-b16f-0e2915e81e06&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtaUmEzY2xuN2JTLzQwQ3F2NGlBOFJaVXBSZk04WGMwL25reXVFVHVBbEZxakhQckVKZGRJRmxERnRrVm4vME52MmxFVjlIcnZNZFJvRHlibHlhVW1MUlh2OXliT2p1R250VmgxK0NMTnNYeXBHblJJLzhpejRjQi9nZHdtaXVHZVJmbjJ3UUoxV1lrQnpFeUx4VUYvc3lRZW5CcmZtd0ZLSjFyUG5TWUtsc1dkU2pOTFNsQy9jcG8xNjlSK2VGNDcyWWl6SC9FVFNIR1pYbkUvU0NmUzIrODFvYUNSVjRWbjYveTcrWXJYV3cyUT09&returnUrl=%2F - -
2022-06-05 16:58:12.520 +03:00 [Information] Executing endpoint '"/Account/ConfirmEmail"'
2022-06-05 16:58:12.522 +03:00 [Information] Route matched with "{page = \"/Account/ConfirmEmail\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/ConfirmEmail"
2022-06-05 16:58:12.524 +03:00 [Information] Executing handler method "Microsoft.AspNetCore.Identity.UI.V5.Pages.Account.Internal.ConfirmEmailModel.OnGetAsync" - ModelState is Valid
2022-06-05 16:58:12.527 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:58:12.657 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-05 16:58:12.787 +03:00 [Information] Executed DbCommand ("122"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-05 16:58:13.027 +03:00 [Information] Executed DbCommand ("122"ms) [Parameters=["@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 4000), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [EmployeeId] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [Name] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [PhotoPath] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
SELECT @@ROWCOUNT;"
2022-06-05 16:58:13.143 +03:00 [Information] Executed handler method "OnGetAsync", returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-05 16:58:13.153 +03:00 [Information] Executed page "/Account/ConfirmEmail" in 630.124ms
2022-06-05 16:58:13.172 +03:00 [Information] Executed endpoint '"/Account/ConfirmEmail"'
2022-06-05 16:58:13.174 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/ConfirmEmail?userId=097e5519-3f6e-44f8-b16f-0e2915e81e06&code=Q2ZESjhQaVU1cmlQREV0UG05MWdBdit2QWtaUmEzY2xuN2JTLzQwQ3F2NGlBOFJaVXBSZk04WGMwL25reXVFVHVBbEZxakhQckVKZGRJRmxERnRrVm4vME52MmxFVjlIcnZNZFJvRHlibHlhVW1MUlh2OXliT2p1R250VmgxK0NMTnNYeXBHblJJLzhpejRjQi9nZHdtaXVHZVJmbjJ3UUoxV1lrQnpFeUx4VUYvc3lRZW5CcmZtd0ZLSjFyUG5TWUtsc1dkU2pOTFNsQy9jcG8xNjlSK2VGNDcyWWl6SC9FVFNIR1pYbkUvU0NmUzIrODFvYUNSVjRWbjYveTcrWXJYV3cyUT09&returnUrl=%2F - - - 200 - text/html;+charset=utf-8 653.8875ms
2022-06-05 16:58:13.214 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:58:13.214 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2326ms
2022-06-05 16:58:17.664 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Identity/Account/Login - -
2022-06-05 16:58:17.665 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-05 16:58:17.668 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-05 16:58:17.668 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnGetAsync" - ModelState is Valid
2022-06-05 16:58:17.671 +03:00 [Information] AuthenticationScheme: "Identity.External" signed out.
2022-06-05 16:58:17.671 +03:00 [Information] Executed handler method "OnGetAsync", returned result "".
2022-06-05 16:58:17.671 +03:00 [Information] Executing an implicit handler method - ModelState is Valid
2022-06-05 16:58:17.671 +03:00 [Information] Executed an implicit handler method, returned result "Microsoft.AspNetCore.Mvc.RazorPages.PageResult".
2022-06-05 16:58:17.695 +03:00 [Information] Executed page "/Account/Login" in 27.049ms
2022-06-05 16:58:17.695 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-05 16:58:17.696 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Identity/Account/Login - - - 200 - text/html;+charset=utf-8 31.5762ms
2022-06-05 16:58:17.715 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:58:17.715 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5118ms
2022-06-05 16:58:24.108 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266
2022-06-05 16:58:24.109 +03:00 [Information] Executing endpoint '"/Account/Login"'
2022-06-05 16:58:24.110 +03:00 [Information] Route matched with "{page = \"/Account/Login\", area = \"Identity\", action = \"\", controller = \"\"}". Executing page "/Account/Login"
2022-06-05 16:58:24.114 +03:00 [Information] Executing handler method "travelAgency.Areas.Identity.Pages.Account.LoginModel.OnPostAsync" - ModelState is Valid
2022-06-05 16:58:24.116 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:58:24.226 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__normalizedUserName_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[NormalizedUserName] = @__normalizedUserName_0)"
2022-06-05 16:58:24.371 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-05 16:58:24.377 +03:00 [Information] AuthenticationScheme: "Identity.Application" signed in.
2022-06-05 16:58:24.378 +03:00 [Information] User logged in.
2022-06-05 16:58:24.378 +03:00 [Information] Executed handler method "OnPostAsync", returned result "Microsoft.AspNetCore.Mvc.LocalRedirectResult".
2022-06-05 16:58:24.378 +03:00 [Information] Executing LocalRedirectResult, redirecting to "/".
2022-06-05 16:58:24.378 +03:00 [Information] Executed page "/Account/Login" in 268.0613ms
2022-06-05 16:58:24.378 +03:00 [Information] Executed endpoint '"/Account/Login"'
2022-06-05 16:58:24.378 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Identity/Account/Login application/x-www-form-urlencoded 266 - 302 0 - 269.9934ms
2022-06-05 16:58:24.382 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 16:58:24.385 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:58:24.385 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 16:58:24.386 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:58:24.496 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 16:58:24.496 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 16:58:24.504 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.7465ms.
2022-06-05 16:58:24.504 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 119.0117ms
2022-06-05 16:58:24.504 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 16:58:24.505 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 123.5170ms
2022-06-05 16:58:24.530 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:58:24.530 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2229ms
2022-06-05 16:58:26.528 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-05 16:58:26.529 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-05 16:58:26.532 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-05 16:58:26.534 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 16:58:26.662 +03:00 [Information] Executed DbCommand ("118"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-05 16:58:26.667 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 16:58:26.676 +03:00 [Information] Executed ViewResult - view "Index" executed in 9.5298ms.
2022-06-05 16:58:26.676 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 144.5667ms
2022-06-05 16:58:26.676 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-05 16:58:26.677 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 149.6636ms
2022-06-05 16:58:26.734 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 16:58:26.734 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1839ms
2022-06-05 16:58:26.741 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/1.jpg - -
2022-06-05 16:58:26.753 +03:00 [Information] Sending file. Request path: '"/Images/1.jpg"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\Images\1.jpg"'
2022-06-05 16:58:26.754 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/1.jpg - - - 200 596520 image/jpeg 12.7337ms
2022-06-05 17:07:44.126 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:07:44.728 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:07:44.728 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:07:44.730 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:07:44.730 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:07:44.730 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:07:45.466 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:07:45.711 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:07:45.731 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:07:46.544 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:07:46.893 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:07:47.992 +03:00 [Information] Executed DbCommand ("137"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:07:48.017 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:07:48.151 +03:00 [Information] Executed ViewResult - view "Index" executed in 134.5186ms.
2022-06-05 17:07:48.153 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2421.385ms
2022-06-05 17:07:48.154 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:07:48.181 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2717.2136ms
2022-06-05 17:07:48.195 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:07:48.197 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.4389ms
2022-06-05 17:07:56.059 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:07:56.066 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:07:56.070 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:07:56.107 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:07:56.123 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:07:56.243 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:07:56.244 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:07:56.259 +03:00 [Information] Executed ViewResult - view "Index" executed in 15.5823ms.
2022-06-05 17:07:56.259 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 189.0882ms
2022-06-05 17:07:56.259 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:07:56.260 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 201.3373ms
2022-06-05 17:07:56.278 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:07:56.278 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3209ms
2022-06-05 17:08:01.578 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:08:01.589 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:08:01.590 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:08:01.591 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:08:01.653 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 62.6126ms.
2022-06-05 17:08:01.653 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 63.4234ms
2022-06-05 17:08:01.653 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:08:01.655 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 77.4992ms
2022-06-05 17:08:01.671 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - -
2022-06-05 17:08:01.675 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - -
2022-06-05 17:08:01.675 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - -
2022-06-05 17:08:01.674 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:08:01.675 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.1672ms
2022-06-05 17:08:01.685 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - - - 404 0 - 13.5320ms
2022-06-05 17:08:01.685 +03:00 [Information] The file "/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js" was not modified
2022-06-05 17:08:01.686 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - - - 304 - application/javascript 10.9253ms
2022-06-05 17:08:01.686 +03:00 [Information] The file "/lib/jquery-validation/dist/jquery.validate.min.js" was not modified
2022-06-05 17:08:01.686 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - - - 304 - application/javascript 11.1761ms
2022-06-05 17:09:06.358 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:09:06.370 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:09:06.370 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:09:06.371 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:09:06.388 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 17.5884ms.
2022-06-05 17:09:06.388 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 18.2957ms
2022-06-05 17:09:06.388 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:09:06.393 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 34.4866ms
2022-06-05 17:09:06.531 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css - -
2022-06-05 17:09:06.532 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-05 17:09:06.532 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-05 17:09:06.544 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - -
2022-06-05 17:09:06.544 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - - - 404 0 - 0.4291ms
2022-06-05 17:09:06.544 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery/dist/jquery.min.js - -
2022-06-05 17:09:06.545 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js - -
2022-06-05 17:09:06.545 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - -
2022-06-05 17:09:06.619 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - -
2022-06-05 17:09:06.630 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - -
2022-06-05 17:09:06.633 +03:00 [Information] Sending file. Request path: '"/travelAgency.styles.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\obj\Debug\net6.0\scopedcss\bundle\travelAgency.styles.css"'
2022-06-05 17:09:06.633 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:09:06.634 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.7732ms
2022-06-05 17:09:06.635 +03:00 [Information] Sending file. Request path: '"/js/site.js"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\js\site.js"'
2022-06-05 17:09:06.659 +03:00 [Information] Sending file. Request path: '"/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\jquery-validation-unobtrusive\jquery.validate.unobtrusive.min.js"'
2022-06-05 17:09:06.659 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js - - - 200 5868 application/javascript 28.4255ms
2022-06-05 17:09:06.659 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/js/site.js?v=4q1jwFhaPaZgr8WAUSrux6hAuh0XDg9kPS3xIVq36I0 - - - 200 230 application/javascript 114.4730ms
2022-06-05 17:09:06.666 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-05 17:09:06.666 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 134.7747ms
2022-06-05 17:09:06.667 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 200 1129 text/css 134.9492ms
2022-06-05 17:09:06.667 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js"'
2022-06-05 17:09:06.667 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js - - - 200 78468 application/javascript 122.5162ms
2022-06-05 17:09:06.676 +03:00 [Information] Sending file. Request path: '"/lib/jquery/dist/jquery.min.js"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\jquery\dist\jquery.min.js"'
2022-06-05 17:09:06.677 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery/dist/jquery.min.js - - - 200 89476 application/javascript 132.4271ms
2022-06-05 17:09:06.677 +03:00 [Information] Sending file. Request path: '"/lib/jquery-validation/dist/jquery.validate.min.js"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\jquery-validation\dist\jquery.validate.min.js"'
2022-06-05 17:09:06.677 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/jquery-validation/dist/jquery.validate.min.js - - - 200 23261 application/javascript 60.1116ms
2022-06-05 17:09:06.697 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css"'
2022-06-05 17:09:06.697 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css - - - 200 162720 text/css 168.5148ms
2022-06-05 17:09:06.852 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/favicon.ico - -
2022-06-05 17:09:06.871 +03:00 [Information] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\favicon.ico"'
2022-06-05 17:09:06.871 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/favicon.ico - - - 200 5430 image/x-icon 18.9811ms
2022-06-05 17:12:31.680 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:12:31.681 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:12:31.681 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:12:31.682 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:12:31.687 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 5.2778ms.
2022-06-05 17:12:31.687 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 5.7296ms
2022-06-05 17:12:31.687 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:12:31.689 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 8.5882ms
2022-06-05 17:12:31.776 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - -
2022-06-05 17:12:31.776 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:12:31.776 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3730ms
2022-06-05 17:12:31.776 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - - - 404 0 - 0.4207ms
2022-06-05 17:13:23.143 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:13:23.695 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:13:23.695 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:13:23.698 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:13:23.698 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:13:23.698 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:13:24.398 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:13:24.759 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:13:24.775 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:13:25.587 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:13:25.972 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:13:27.222 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin/AddEmployee - -
2022-06-05 17:13:27.226 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:13:27.227 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddEmployeeAsync()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-05 17:13:27.244 +03:00 [Information] Executing ViewResult, running view "AddEmployee".
2022-06-05 17:13:27.245 +03:00 [Information] Executed DbCommand ("141"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:13:27.269 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:13:27.394 +03:00 [Information] Executed ViewResult - view "AddEmployee" executed in 156.3466ms.
2022-06-05 17:13:27.394 +03:00 [Information] Executed ViewResult - view "Index" executed in 121.1714ms.
2022-06-05 17:13:27.398 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 170.0127ms
2022-06-05 17:13:27.398 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2621.9299ms
2022-06-05 17:13:27.398 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:13:27.398 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:13:27.425 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin/AddEmployee - - - 200 - text/html;+charset=utf-8 202.5198ms
2022-06-05 17:13:27.427 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3034.9904ms
2022-06-05 17:13:27.438 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:13:27.442 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.2791ms
2022-06-05 17:13:27.455 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:13:27.456 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4793ms
2022-06-05 17:13:35.674 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:13:35.685 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:13:35.686 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:13:35.687 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:13:35.745 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 57.6204ms.
2022-06-05 17:13:35.745 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 58.8222ms
2022-06-05 17:13:35.745 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:13:35.747 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 73.0588ms
2022-06-05 17:13:35.766 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:13:35.768 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - -
2022-06-05 17:13:35.769 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.3491ms
2022-06-05 17:13:35.770 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Scripts/filedrop.js - - - 404 0 - 2.0508ms
2022-06-05 17:29:06.450 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:29:06.902 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:29:06.902 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:29:06.904 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:29:06.904 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:29:06.904 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:29:07.281 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:29:08.366 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:29:09.789 +03:00 [Information] Executed DbCommand ("151"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-05 17:29:10.034 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-05 17:29:10.043 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:29:10.053 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:29:10.153 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:29:10.279 +03:00 [Information] Executed DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:29:10.287 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:29:10.445 +03:00 [Information] Executed ViewResult - view "Index" executed in 157.9411ms.
2022-06-05 17:29:10.448 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 394.2654ms
2022-06-05 17:29:10.448 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:29:10.478 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3201.0163ms
2022-06-05 17:29:10.499 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:29:10.502 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6876ms
2022-06-05 17:29:13.041 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-05 17:29:13.053 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-05 17:29:13.055 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-05 17:29:13.120 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:29:13.248 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-05 17:29:13.254 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:29:13.273 +03:00 [Information] Executed ViewResult - view "Index" executed in 19.5092ms.
2022-06-05 17:29:13.273 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 218.2748ms
2022-06-05 17:29:13.273 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-05 17:29:13.274 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 233.4773ms
2022-06-05 17:29:13.342 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:29:13.346 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/1.jpg - -
2022-06-05 17:29:13.346 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.8870ms
2022-06-05 17:29:13.352 +03:00 [Information] The file "/Images/1.jpg" was not modified
2022-06-05 17:29:13.353 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/1.jpg - - - 304 - image/jpeg 7.2763ms
2022-06-05 17:29:20.159 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:29:20.170 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:29:20.172 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:29:20.181 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:29:20.196 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:29:20.312 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:29:20.313 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:29:20.323 +03:00 [Information] Executed ViewResult - view "Index" executed in 10.4474ms.
2022-06-05 17:29:20.323 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 151.7242ms
2022-06-05 17:29:20.323 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:29:20.325 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 165.8067ms
2022-06-05 17:29:20.350 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:29:20.350 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2951ms
2022-06-05 17:29:23.017 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:29:23.019 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:29:23.020 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:29:23.022 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:29:23.083 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 62.1309ms.
2022-06-05 17:29:23.083 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 62.8676ms
2022-06-05 17:29:23.084 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:29:23.085 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 67.3648ms
2022-06-05 17:29:23.102 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:29:23.102 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2951ms
2022-06-05 17:31:26.784 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:31:26.822 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:31:27.059 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:31:27.059 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 274.6434ms
2022-06-05 17:31:27.069 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:31:27.069 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 246.8587ms
2022-06-05 17:31:53.126 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 439
2022-06-05 17:31:53.131 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:31:53.144 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:31:53.168 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:31:53.305 +03:00 [Information] Executed DbCommand ("117"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:32:09.974 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:32:10.463 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:32:10.464 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:32:10.466 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:32:10.466 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:32:10.466 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:32:11.194 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:32:11.453 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:32:11.468 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:32:12.260 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:32:12.643 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:32:13.778 +03:00 [Information] Executed DbCommand ("139"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:32:13.807 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:32:13.949 +03:00 [Information] Executed ViewResult - view "Index" executed in 142.8317ms.
2022-06-05 17:32:13.951 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2482.4356ms
2022-06-05 17:32:13.952 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:32:13.978 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2785.8530ms
2022-06-05 17:32:14.003 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:32:14.008 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.5572ms
2022-06-05 17:32:27.083 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin/AddEmployee - -
2022-06-05 17:32:27.090 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:32:27.092 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddEmployeeAsync()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-05 17:32:27.093 +03:00 [Information] Executing ViewResult, running view "AddEmployee".
2022-06-05 17:32:27.126 +03:00 [Information] Executed ViewResult - view "AddEmployee" executed in 33.1346ms.
2022-06-05 17:32:27.126 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 34.0494ms
2022-06-05 17:32:27.126 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:32:27.127 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin/AddEmployee - - - 200 - text/html;+charset=utf-8 44.3951ms
2022-06-05 17:32:27.152 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:32:27.153 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3875ms
2022-06-05 17:32:41.238 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Admin/AddEmployee application/x-www-form-urlencoded 256
2022-06-05 17:32:41.251 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:32:41.261 +03:00 [Information] Route matched with "{action = \"AddEmployee\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddEmployeeAsync(System.String)" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-05 17:32:41.319 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:32:41.480 +03:00 [Information] Executed DbCommand ("133"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__Email_0)
ORDER BY [a].[Id]"
2022-06-05 17:32:41.921 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@p0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Employees] ([UserId])
VALUES (@p0);
SELECT [Id]
FROM [Employees]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:32:42.077 +03:00 [Information] Executing RedirectToRouteResult, redirecting to "/" from route null.
2022-06-05 17:32:42.077 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)" in 816.1648ms
2022-06-05 17:32:42.078 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.AddEmployeeAsync (travelAgency)"'
2022-06-05 17:32:42.078 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Admin/AddEmployee application/x-www-form-urlencoded 256 - 302 0 - 839.8556ms
2022-06-05 17:32:42.081 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:32:42.082 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:32:42.082 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:32:42.089 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:32:42.203 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:32:42.203 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:32:42.207 +03:00 [Information] Executed ViewResult - view "Index" executed in 3.8003ms.
2022-06-05 17:32:42.207 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 124.648ms
2022-06-05 17:32:42.207 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:32:42.208 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 126.7759ms
2022-06-05 17:32:42.226 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:32:42.226 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2865ms
2022-06-05 17:33:26.142 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:33:26.148 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:33:26.149 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:33:26.150 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:33:26.201 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 51.4055ms.
2022-06-05 17:33:26.201 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 52.0325ms
2022-06-05 17:33:26.202 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:33:26.203 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 61.8454ms
2022-06-05 17:33:26.231 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:33:26.234 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.8000ms
2022-06-05 17:33:42.252 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:33:42.266 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:33:42.293 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:33:42.293 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:33:42.293 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 27.1390ms
2022-06-05 17:33:42.293 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 41.1009ms
2022-06-05 17:33:52.257 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:33:52.260 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:33:52.260 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 3.2231ms
2022-06-05 17:33:52.272 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:33:52.277 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:33:52.277 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 4.3956ms
2022-06-05 17:33:57.578 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 439
2022-06-05 17:33:57.582 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:33:57.586 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:33:57.594 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:33:57.779 +03:00 [Information] Executed DbCommand ("146"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:33:58.063 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:33:58.183 +03:00 [Error] Failed executing DbCommand ("117"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:33:58.446 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c1389f3-d1e0-4bc4-8d98-e645815ecfac
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c1389f3-d1e0-4bc4-8d98-e645815ecfac
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 17:33:58.533 +03:00 [Error] Not Created
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:5c1389f3-d1e0-4bc4-8d98-e645815ecfac
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DLL.Repository.Interfaces.BaseRepository`1.CreateAsync(TEntity entity) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\Interfaces\BaseRepository.cs:line 35
2022-06-05 17:33:58.565 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:33:58.683 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:33:58.693 +03:00 [Information] Executed ViewResult - view "Index" executed in 11.2482ms.
2022-06-05 17:33:58.693 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 1107.6517ms
2022-06-05 17:33:58.693 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:33:58.694 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 439 - 200 - text/html;+charset=utf-8 1115.8362ms
2022-06-05 17:33:58.718 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:33:58.718 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2292ms
2022-06-05 17:34:01.361 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:34:01.363 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:01.366 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:34:01.367 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:34:01.479 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:34:01.479 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:34:01.484 +03:00 [Information] Executed ViewResult - view "Index" executed in 4.4407ms.
2022-06-05 17:34:01.484 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 117.6326ms
2022-06-05 17:34:01.484 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:01.485 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 124.0690ms
2022-06-05 17:34:01.505 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:34:01.507 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3418ms
2022-06-05 17:34:02.930 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:34:02.932 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:02.932 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:34:02.933 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:34:03.044 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:34:03.044 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:34:03.049 +03:00 [Information] Executed ViewResult - view "Index" executed in 4.4197ms.
2022-06-05 17:34:03.049 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 116.4097ms
2022-06-05 17:34:03.049 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:03.050 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 119.3831ms
2022-06-05 17:34:03.063 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:34:03.063 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1874ms
2022-06-05 17:34:17.310 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:34:17.311 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:17.311 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:34:22.211 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:34:37.317 +03:00 [Information] Executed DbCommand ("1,241"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:34:55.117 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:34:55.530 +03:00 [Information] Executed ViewResult - view "Index" executed in 459.8344ms.
2022-06-05 17:34:55.530 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 38218.666ms
2022-06-05 17:34:55.530 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:34:55.534 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 38223.4852ms
2022-06-05 17:34:55.555 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:34:55.555 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1713ms
2022-06-05 17:34:55.832 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/favicon.ico - -
2022-06-05 17:34:55.835 +03:00 [Information] The file "/favicon.ico" was not modified
2022-06-05 17:34:55.835 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/favicon.ico - - - 304 - image/x-icon 2.6902ms
2022-06-05 17:35:58.536 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:35:58.839 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:35:58.839 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:35:58.843 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:35:58.843 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:35:58.843 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:35:59.415 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:35:59.640 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:35:59.656 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:36:00.790 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:36:01.500 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:36:02.671 +03:00 [Information] Executed DbCommand ("135"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:36:02.696 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:36:02.843 +03:00 [Information] Executed ViewResult - view "Index" executed in 146.4946ms.
2022-06-05 17:36:02.846 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 3188.9521ms
2022-06-05 17:36:02.846 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:36:02.874 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3461.0902ms
2022-06-05 17:36:02.884 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:36:02.888 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.3838ms
2022-06-05 17:36:05.016 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:36:05.020 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:36:05.027 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:36:06.986 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:36:07.002 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:36:07.120 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:36:07.121 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:36:07.133 +03:00 [Information] Executed ViewResult - view "Index" executed in 12.6841ms.
2022-06-05 17:36:07.134 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 2106.9225ms
2022-06-05 17:36:07.134 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:36:07.135 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 2118.5906ms
2022-06-05 17:36:07.154 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:36:07.154 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3286ms
2022-06-05 17:36:11.840 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:36:11.851 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:36:11.852 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:36:11.853 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:36:11.936 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 83.462ms.
2022-06-05 17:36:11.936 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 84.2374ms
2022-06-05 17:36:11.936 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:36:11.937 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 97.0498ms
2022-06-05 17:36:11.963 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:36:11.963 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3776ms
2022-06-05 17:36:28.400 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:36:28.426 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:36:28.427 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 26.2789ms
2022-06-05 17:36:28.442 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:36:28.457 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:36:28.457 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 18.5524ms
2022-06-05 17:36:33.128 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 447
2022-06-05 17:36:33.131 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:36:33.144 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:36:42.305 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:36:42.470 +03:00 [Information] Executed DbCommand ("127"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:37:13.116 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:37:13.246 +03:00 [Error] Failed executing DbCommand ("114"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:37:13.403 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a372ee4-f287-4ba6-911e-bd0c44b3615c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a372ee4-f287-4ba6-911e-bd0c44b3615c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 17:37:13.464 +03:00 [Error] Not Created
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:9a372ee4-f287-4ba6-911e-bd0c44b3615c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DLL.Repository.Interfaces.BaseRepository`1.CreateAsync(TEntity entity) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\Interfaces\BaseRepository.cs:line 35
2022-06-05 17:37:13.580 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:37:13.589 +03:00 [Information] Executed ViewResult - view "Index" executed in 9.5114ms.
2022-06-05 17:37:13.590 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 40445.7658ms
2022-06-05 17:37:13.590 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:37:13.591 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 447 - 200 - text/html;+charset=utf-8 40462.5982ms
2022-06-05 17:37:13.758 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:37:13.758 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3037ms
2022-06-05 17:37:15.583 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:37:15.584 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:37:15.584 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:37:17.636 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:37:17.746 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:37:17.746 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:37:17.752 +03:00 [Information] Executed ViewResult - view "Index" executed in 6.3284ms.
2022-06-05 17:37:17.752 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 2168.2205ms
2022-06-05 17:37:17.753 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:37:17.754 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 2171.0009ms
2022-06-05 17:37:17.777 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:37:17.778 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3300ms
2022-06-05 17:37:30.671 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:37:30.672 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:37:30.673 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:37:54.617 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:37:56.263 +03:00 [Information] Executed DbCommand ("1,170"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:38:52.958 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:38:52.965 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.8191ms.
2022-06-05 17:38:52.965 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 82292.676ms
2022-06-05 17:38:52.965 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:38:52.969 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 82298.1492ms
2022-06-05 17:38:52.995 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:38:52.995 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2276ms
2022-06-05 17:40:58.090 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:40:58.413 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:40:58.413 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:40:58.416 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:40:58.416 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:40:58.416 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:40:59.357 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:40:59.803 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:40:59.826 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:41:00.844 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:41:01.179 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:41:02.263 +03:00 [Information] Executed DbCommand ("139"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:41:02.288 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:41:02.430 +03:00 [Information] Executed ViewResult - view "Index" executed in 142.3815ms.
2022-06-05 17:41:02.433 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2605.6329ms
2022-06-05 17:41:02.433 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:41:02.460 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3106.8216ms
2022-06-05 17:41:02.472 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:41:02.475 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7800ms
2022-06-05 17:41:08.001 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:41:08.009 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:41:08.012 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:41:08.013 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:41:08.083 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 70.2504ms.
2022-06-05 17:41:08.083 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 71.243ms
2022-06-05 17:41:08.083 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:41:08.087 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 86.4831ms
2022-06-05 17:41:08.102 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:41:08.103 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3946ms
2022-06-05 17:41:24.575 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:41:24.601 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:41:24.601 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 27.4498ms
2022-06-05 17:41:24.626 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:41:24.633 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:41:24.634 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 8.1449ms
2022-06-05 17:41:50.989 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 447
2022-06-05 17:41:51.001 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:41:51.013 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:42:09.943 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:42:10.110 +03:00 [Information] Executed DbCommand ("129"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:42:49.425 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:42:49.552 +03:00 [Error] Failed executing DbCommand ("112"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:42:49.779 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88fcb8bf-37e9-451a-98b3-08c879d94d2a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:88fcb8bf-37e9-451a-98b3-08c879d94d2a
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 17:46:23.260 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:46:23.633 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:46:23.637 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:46:23.640 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:46:23.642 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:46:23.642 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:46:24.356 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:46:24.620 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:46:24.637 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:46:25.603 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:46:25.957 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:46:27.142 +03:00 [Information] Executed DbCommand ("138"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:46:27.168 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:46:27.300 +03:00 [Information] Executed ViewResult - view "Index" executed in 133.5627ms.
2022-06-05 17:46:27.303 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2665.3546ms
2022-06-05 17:46:27.304 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:46:27.334 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2980.8173ms
2022-06-05 17:46:27.349 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:46:27.352 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.2801ms
2022-06-05 17:46:32.762 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:46:32.769 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:46:32.771 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:46:32.772 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:46:32.838 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 67.0812ms.
2022-06-05 17:46:32.839 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 68.0404ms
2022-06-05 17:46:32.839 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:46:32.840 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 78.5591ms
2022-06-05 17:46:32.859 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:46:32.860 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5013ms
2022-06-05 17:47:10.859 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:47:10.893 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:47:10.901 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:47:10.901 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:47:10.901 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 7.7879ms
2022-06-05 17:47:10.901 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 41.9269ms
2022-06-05 17:47:19.132 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 452
2022-06-05 17:47:19.143 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:47:19.155 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:47:19.265 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 109.5913ms
2022-06-05 17:47:19.266 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:47:19.267 +03:00 [Error] An unhandled exception has occurred while executing the request.
System.ArgumentOutOfRangeException: Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
   at System.Collections.Generic.List`1.get_Item(Int32 index)
   at travelAgency.Controllers.ToursController.AddTourAsync(TourViewModel TourInfo) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Controllers\ToursController.cs:line 60
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-05 17:47:19.350 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 452 - 500 - text/html;+charset=utf-8 218.9411ms
2022-06-05 17:47:19.368 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:47:19.369 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.2443ms
2022-06-05 17:49:34.792 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:49:35.074 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:49:35.074 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:49:35.076 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:49:35.076 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:49:35.076 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:49:35.929 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:49:36.523 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:49:36.560 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:49:37.545 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:49:37.924 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:49:39.016 +03:00 [Information] Executed DbCommand ("136"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:49:39.043 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:49:39.185 +03:00 [Information] Executed ViewResult - view "Index" executed in 137.6553ms.
2022-06-05 17:49:39.189 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2627.8623ms
2022-06-05 17:49:39.189 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:49:39.218 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3291.7465ms
2022-06-05 17:49:39.234 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:49:39.236 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.4404ms
2022-06-05 17:49:42.235 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 17:49:42.248 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:49:42.250 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:49:46.447 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:49:46.462 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:49:46.581 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 17:49:46.582 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:49:46.596 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.5121ms.
2022-06-05 17:49:46.596 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 4346.1311ms
2022-06-05 17:49:46.596 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 17:49:46.598 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 4362.1972ms
2022-06-05 17:49:46.626 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:49:46.626 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3593ms
2022-06-05 17:49:50.470 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:49:50.481 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:49:50.482 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:49:50.483 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:49:50.544 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 61.8052ms.
2022-06-05 17:49:50.544 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 62.5051ms
2022-06-05 17:49:50.544 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:49:50.547 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 77.3320ms
2022-06-05 17:49:50.563 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:49:50.564 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3847ms
2022-06-05 17:50:04.605 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:50:04.635 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:50:04.636 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 30.2142ms
2022-06-05 17:50:04.659 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:50:04.664 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:50:04.665 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 5.2385ms
2022-06-05 17:50:08.680 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 437
2022-06-05 17:50:08.683 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:50:08.695 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:50:10.984 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:50:11.146 +03:00 [Information] Executed DbCommand ("126"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:50:20.200 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:50:20.329 +03:00 [Error] Failed executing DbCommand ("113"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:50:20.496 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c96925ea-3931-4b0a-aefa-aaeec41aab89
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c96925ea-3931-4b0a-aefa-aaeec41aab89
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 17:53:09.796 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:54:36.636 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:54:37.659 +03:00 [Information] Executed DbCommand ("121"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 17:54:37.786 +03:00 [Information] Executed DbCommand ("118"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 17:54:37.896 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 17:54:38.005 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 17:54:38.124 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-05 17:54:38.150 +03:00 [Information] Applying migration '"20220605145309_UpdatePhotoPath"'.
2022-06-05 17:54:38.425 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20220605145309_UpdatePhotoPath', N'6.0.5');"
2022-06-05 17:54:59.027 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:54:59.382 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:54:59.390 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:54:59.409 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:54:59.409 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:54:59.409 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:55:00.173 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:55:00.694 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:55:00.732 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:55:01.542 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:55:01.877 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:55:02.962 +03:00 [Information] Executed DbCommand ("135"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:55:02.991 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:55:03.125 +03:00 [Information] Executed ViewResult - view "Index" executed in 134.4016ms.
2022-06-05 17:55:03.128 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2395.8903ms
2022-06-05 17:55:03.129 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:55:03.155 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2985.4790ms
2022-06-05 17:55:03.171 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:55:03.175 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.9908ms
2022-06-05 17:55:13.649 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:55:13.656 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:55:13.659 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:55:13.660 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:55:13.727 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 67.5411ms.
2022-06-05 17:55:13.727 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 68.4117ms
2022-06-05 17:55:13.727 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:55:13.729 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 80.2656ms
2022-06-05 17:55:13.756 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:55:13.757 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6028ms
2022-06-05 17:55:31.470 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:55:31.498 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:55:31.498 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 28.2090ms
2022-06-05 17:55:31.522 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:55:31.536 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:55:31.537 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 14.0627ms
2022-06-05 17:55:40.895 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 436
2022-06-05 17:55:40.907 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:55:40.920 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:55:43.773 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:55:43.940 +03:00 [Information] Executed DbCommand ("128"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:55:49.374 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:55:49.506 +03:00 [Error] Failed executing DbCommand ("113"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:55:49.698 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:45b96a14-e6b1-451c-832e-e56a9603cc05
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:45b96a14-e6b1-451c-832e-e56a9603cc05
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 17:57:10.206 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:57:23.843 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:57:24.833 +03:00 [Information] Executed DbCommand ("123"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 17:57:24.962 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 17:57:25.073 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 17:57:25.185 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 17:57:25.303 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-05 17:57:25.316 +03:00 [Information] Applying migration '"20220605145710_FirstLoad"'.
2022-06-05 17:57:25.617 +03:00 [Error] Failed executing DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-05 17:57:50.721 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 17:57:50.996 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 17:57:50.997 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 17:57:50.999 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 17:57:50.999 +03:00 [Information] Hosting environment: "Development"
2022-06-05 17:57:50.999 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 17:57:52.009 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 17:57:52.621 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:57:52.639 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 17:57:53.698 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:57:54.037 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 17:57:55.220 +03:00 [Information] Executed DbCommand ("138"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:57:55.249 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 17:57:55.404 +03:00 [Information] Executed ViewResult - view "Index" executed in 155.2532ms.
2022-06-05 17:57:55.407 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2767.2986ms
2022-06-05 17:57:55.407 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 17:57:55.433 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3428.1292ms
2022-06-05 17:57:55.445 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:57:55.448 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6074ms
2022-06-05 17:58:10.409 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 17:58:10.414 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:58:10.419 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:58:10.421 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 17:58:10.501 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 80.9644ms.
2022-06-05 17:58:10.501 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 81.9906ms
2022-06-05 17:58:10.501 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 17:58:10.503 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 94.0445ms
2022-06-05 17:58:10.524 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 17:58:10.525 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3850ms
2022-06-05 17:58:27.782 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 17:58:27.792 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 17:58:27.820 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 17:58:27.820 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 17:58:27.820 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 28.0596ms
2022-06-05 17:58:27.820 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 37.8337ms
2022-06-05 17:58:33.597 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 439
2022-06-05 17:58:33.614 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 17:58:33.627 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 17:58:36.455 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 17:58:36.622 +03:00 [Information] Executed DbCommand ("129"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 17:58:41.724 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:58:41.852 +03:00 [Error] Failed executing DbCommand ("114"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 17:58:42.067 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d8da4d70-2c76-4f5d-af19-e6de6b6fac8c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d8da4d70-2c76-4f5d-af19-e6de6b6fac8c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 18:03:02.343 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 18:03:02.638 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 18:03:02.638 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 18:03:02.642 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 18:03:02.643 +03:00 [Information] Hosting environment: "Development"
2022-06-05 18:03:02.643 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 18:03:03.040 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 18:03:04.897 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:18:17.490 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 21:18:18.004 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 21:18:18.004 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 21:18:18.011 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 21:18:18.011 +03:00 [Information] Hosting environment: "Development"
2022-06-05 21:18:18.011 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 21:18:20.280 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 21:18:21.592 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:18:23.364 +03:00 [Information] Executed DbCommand ("201"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-05 21:18:23.636 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-05 21:18:23.645 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:18:23.654 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 21:18:23.747 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 21:18:23.867 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:18:23.875 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 21:18:24.034 +03:00 [Information] Executed ViewResult - view "Index" executed in 159.5684ms.
2022-06-05 21:18:24.037 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 382.4092ms
2022-06-05 21:18:24.038 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:18:24.099 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3821.6496ms
2022-06-05 21:18:24.111 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:18:24.114 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7079ms
2022-06-05 21:18:37.836 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 21:18:37.866 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:18:37.868 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:18:37.869 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 21:18:37.958 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 89.4114ms.
2022-06-05 21:18:37.958 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 90.3014ms
2022-06-05 21:18:37.958 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:18:37.959 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 123.4626ms
2022-06-05 21:18:37.978 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:18:37.979 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6898ms
2022-06-05 21:18:57.041 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 21:18:57.072 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 21:18:57.140 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 21:18:57.140 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 99.2373ms
2022-06-05 21:18:57.148 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 21:18:57.148 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 76.0988ms
2022-06-05 21:19:03.101 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 440
2022-06-05 21:19:03.114 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 21:19:03.127 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:19:05.149 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:19:05.296 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:19:10.869 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:19:10.998 +03:00 [Error] Failed executing DbCommand ("115"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:19:11.184 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8f0ba61a-5a95-4472-aca5-4eea1142c2fd
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8f0ba61a-5a95-4472-aca5-4eea1142c2fd
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 21:24:06.482 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:24:40.817 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:24:41.888 +03:00 [Information] Executed DbCommand ("123"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:24:42.017 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:24:42.130 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:24:42.240 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:24:42.359 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-05 21:24:42.371 +03:00 [Information] Applying migration '"20220605182406_FirstLoad"'.
2022-06-05 21:24:42.729 +03:00 [Error] Failed executing DbCommand ("151"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-05 21:25:47.394 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:26:01.176 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:26:02.157 +03:00 [Information] Executed DbCommand ("123"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:26:02.288 +03:00 [Information] Executed DbCommand ("122"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:26:02.404 +03:00 [Information] Executed DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:26:02.513 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:26:02.630 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-05 21:26:02.643 +03:00 [Information] Applying migration '"20220605182406_FirstLoad"'.
2022-06-05 21:26:03.011 +03:00 [Error] Failed executing DbCommand ("172"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-05 21:26:15.353 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 21:26:15.848 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 21:26:15.848 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 21:26:15.860 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 21:26:15.861 +03:00 [Information] Hosting environment: "Development"
2022-06-05 21:26:15.861 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 21:26:16.287 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 21:26:16.539 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:26:16.555 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 21:26:17.409 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:26:17.747 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 21:26:18.829 +03:00 [Information] Executed DbCommand ("138"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:26:18.854 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 21:26:18.979 +03:00 [Information] Executed ViewResult - view "Index" executed in 125.375ms.
2022-06-05 21:26:18.982 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2426.4285ms
2022-06-05 21:26:18.982 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:26:19.009 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2726.4098ms
2022-06-05 21:26:19.021 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:26:19.023 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.4902ms
2022-06-05 21:26:21.023 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-05 21:26:21.030 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 21:26:21.035 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:26:22.748 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:26:22.763 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 21:26:22.883 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-05 21:26:22.884 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 21:26:22.933 +03:00 [Information] Executed ViewResult - view "Index" executed in 50.0623ms.
2022-06-05 21:26:22.933 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 1897.8629ms
2022-06-05 21:26:22.933 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-05 21:26:22.938 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 1914.5565ms
2022-06-05 21:26:22.981 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:26:22.982 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4257ms
2022-06-05 21:26:26.392 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 21:26:26.402 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:26:26.403 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:26:26.404 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 21:26:26.464 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 60.0334ms.
2022-06-05 21:26:26.464 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 60.769ms
2022-06-05 21:26:26.464 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:26:26.465 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 73.3268ms
2022-06-05 21:26:26.480 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:26:26.481 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5960ms
2022-06-05 21:26:42.229 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 21:26:42.255 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 21:26:42.255 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 26.3478ms
2022-06-05 21:26:42.263 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 21:26:42.272 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 21:26:42.273 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 9.5735ms
2022-06-05 21:26:50.450 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 432
2022-06-05 21:26:50.453 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 21:26:50.469 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:26:51.725 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:26:51.888 +03:00 [Information] Executed DbCommand ("128"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:26:56.090 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:26:56.219 +03:00 [Error] Failed executing DbCommand ("114"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:26:56.372 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da7b60bb-0818-43da-928f-bf66f5526dea
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:da7b60bb-0818-43da-928f-bf66f5526dea
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-05 21:31:57.600 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:32:06.345 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:32:07.340 +03:00 [Information] Executed DbCommand ("124"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:32:07.468 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:32:07.580 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-05 21:32:07.692 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-05 21:32:07.810 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-05 21:32:07.823 +03:00 [Information] Applying migration '"20220605182406_FirstLoad"'.
2022-06-05 21:32:08.131 +03:00 [Error] Failed executing DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-05 21:32:21.552 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-05 21:32:22.000 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-05 21:32:22.001 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-05 21:32:22.007 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-05 21:32:22.007 +03:00 [Information] Hosting environment: "Development"
2022-06-05 21:32:22.007 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-05 21:32:22.540 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-05 21:32:22.759 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:32:22.775 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-05 21:32:23.531 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:32:23.867 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-05 21:32:25.042 +03:00 [Information] Executed DbCommand ("156"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:32:25.079 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-05 21:32:25.213 +03:00 [Information] Executed ViewResult - view "Index" executed in 141.688ms.
2022-06-05 21:32:25.217 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2441.9251ms
2022-06-05 21:32:25.217 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-05 21:32:25.244 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2705.9606ms
2022-06-05 21:32:25.258 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:32:25.261 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.0637ms
2022-06-05 21:32:38.536 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-05 21:32:38.542 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:32:38.545 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:32:38.547 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-05 21:32:38.612 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 65.7883ms.
2022-06-05 21:32:38.612 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 66.7188ms
2022-06-05 21:32:38.612 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-05 21:32:38.613 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 77.1991ms
2022-06-05 21:32:38.632 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-05 21:32:38.632 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3191ms
2022-06-05 21:33:24.999 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-05 21:33:25.051 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-05 21:33:25.062 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-05 21:33:25.062 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-05 21:33:25.062 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 63.4481ms
2022-06-05 21:33:25.062 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 10.8962ms
2022-06-05 21:33:29.451 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 439
2022-06-05 21:33:29.462 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-05 21:33:29.474 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-05 21:33:31.224 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-05 21:33:31.398 +03:00 [Information] Executed DbCommand ("133"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[PhotoPathId], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[PhotoPathId], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-05 21:33:38.298 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:33:38.429 +03:00 [Error] Failed executing DbCommand ("115"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p9='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [PhotoPathId], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-05 21:33:38.579 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:395e102a-1eae-4088-acd0-56c2804fac90
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:395e102a-1eae-4088-acd0-56c2804fac90
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-06 18:09:35.540 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:10:33.306 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:10:34.864 +03:00 [Information] Executed DbCommand ("124"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 18:10:34.993 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 18:10:35.104 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 18:10:35.214 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 18:10:35.337 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 18:10:35.349 +03:00 [Information] Applying migration '"20220606150935_UpdateDb"'.
2022-06-06 18:10:35.707 +03:00 [Error] Failed executing DbCommand ("157"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-06 18:11:02.916 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 18:11:03.485 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 18:11:03.485 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 18:11:03.488 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 18:11:03.488 +03:00 [Information] Hosting environment: "Development"
2022-06-06 18:11:03.488 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 18:11:04.145 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 18:11:05.215 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:11:06.782 +03:00 [Information] Executed DbCommand ("150"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-06 18:11:07.082 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-06 18:11:07.091 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:11:07.101 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 18:11:07.190 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 18:11:07.308 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:11:07.316 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 18:11:07.503 +03:00 [Information] Executed ViewResult - view "Index" executed in 186.3849ms.
2022-06-06 18:11:07.506 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 404.1981ms
2022-06-06 18:11:07.506 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:11:07.593 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3450.2510ms
2022-06-06 18:11:07.597 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-06 18:11:07.602 +03:00 [Information] The file "/travelAgency.styles.css" was not modified
2022-06-06 18:11:07.603 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 304 - text/css 6.3872ms
2022-06-06 18:11:07.788 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:11:07.791 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.8388ms
2022-06-06 18:11:25.478 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-06 18:11:25.485 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:11:25.487 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:11:25.488 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-06 18:11:25.559 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 71.7573ms.
2022-06-06 18:11:25.559 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 72.6372ms
2022-06-06 18:11:25.559 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:11:25.561 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 83.2540ms
2022-06-06 18:11:25.580 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:11:25.581 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.2291ms
2022-06-06 18:11:47.547 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-06 18:11:47.578 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-06 18:11:47.646 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-06 18:11:47.646 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 68.1786ms
2022-06-06 18:11:47.648 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-06 18:11:47.648 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 101.3143ms
2022-06-06 18:11:52.144 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 432
2022-06-06 18:11:52.155 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-06 18:11:52.166 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:11:56.735 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:11:56.869 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:12:01.971 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 18:12:02.104 +03:00 [Error] Failed executing DbCommand ("117"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 18:12:02.379 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:019ea4b2-b8ef-43a4-8142-64b756a8aab0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'PhotoPathId', table 'TravelAgency.dbo.Hotels'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:019ea4b2-b8ef-43a4-8142-64b756a8aab0
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-06 18:22:01.567 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 18:22:02.327 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 18:22:02.327 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 18:22:02.331 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 18:22:02.331 +03:00 [Information] Hosting environment: "Development"
2022-06-06 18:22:02.331 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 18:22:02.955 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 18:22:03.371 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:22:03.386 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 18:22:04.133 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:22:04.549 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 18:22:05.994 +03:00 [Information] Executed DbCommand ("146"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:22:06.022 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 18:22:06.181 +03:00 [Information] Executed ViewResult - view "Index" executed in 159.8512ms.
2022-06-06 18:22:06.184 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2797.8134ms
2022-06-06 18:22:06.184 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:22:06.238 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3285.5889ms
2022-06-06 18:22:06.245 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:22:06.248 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.6803ms
2022-06-06 18:22:09.137 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-06 18:22:09.140 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:22:09.145 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:22:09.146 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-06 18:22:09.205 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 59.5684ms.
2022-06-06 18:22:09.205 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 60.6778ms
2022-06-06 18:22:09.205 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:22:09.207 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 69.8767ms
2022-06-06 18:22:09.223 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:22:09.224 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.7218ms
2022-06-06 18:27:06.782 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:29:20.810 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 18:29:21.430 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 18:29:21.431 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 18:29:21.433 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 18:29:21.433 +03:00 [Information] Hosting environment: "Development"
2022-06-06 18:29:21.433 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 18:29:22.015 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 18:29:22.279 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:29:22.294 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 18:29:23.064 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:29:23.398 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 18:29:24.483 +03:00 [Information] Executed DbCommand ("143"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:29:24.508 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 18:29:24.633 +03:00 [Information] Executed ViewResult - view "Index" executed in 125.9317ms.
2022-06-06 18:29:24.636 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2340.8506ms
2022-06-06 18:29:24.636 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 18:29:24.663 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2650.7013ms
2022-06-06 18:29:24.677 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:29:24.680 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.1260ms
2022-06-06 18:29:27.726 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-06 18:29:27.730 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:29:27.734 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:29:27.736 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-06 18:29:27.801 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 65.3352ms.
2022-06-06 18:29:27.801 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 66.3159ms
2022-06-06 18:29:27.801 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 18:29:27.802 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 75.9764ms
2022-06-06 18:29:27.819 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:29:27.819 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6189ms
2022-06-06 18:29:44.744 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-06 18:29:44.785 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-06 18:29:44.785 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 41.8557ms
2022-06-06 18:29:44.837 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-06 18:29:44.856 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-06 18:29:44.857 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 20.5657ms
2022-06-06 18:29:48.900 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 432
2022-06-06 18:29:48.911 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-06 18:29:48.923 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:29:58.124 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:29:58.293 +03:00 [Information] Executed DbCommand ("132"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:30:08.948 +03:00 [Information] Executed DbCommand ("107"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 18:30:09.072 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 18:30:09.184 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Tours] ([CountPeople], [Duration], [EmployeeId], [HotelId], [IsHotTour], [Price], [Rating], [TypeTransport])
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT [Id]
FROM [Tours]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 18:30:13.123 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 18:30:13.267 +03:00 [Information] Executed DbCommand ("137"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 18:30:13.268 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 18:30:13.292 +03:00 [Information] Executed ViewResult - view "Index" executed in 24.5784ms.
2022-06-06 18:30:13.292 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 24369.2659ms
2022-06-06 18:30:13.292 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-06 18:30:13.294 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 432 - 200 - text/html;+charset=utf-8 24394.2355ms
2022-06-06 18:30:13.402 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:30:13.403 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2664ms
2022-06-06 18:37:05.225 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 18:37:05.228 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 18:37:05.230 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 18:38:24.292 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 18:38:24.310 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 18:38:25.088 +03:00 [Information] Executed DbCommand ("116"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 18:38:25.872 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 18:38:25.889 +03:00 [Information] Executed ViewResult - view "Details" executed in 17.3501ms.
2022-06-06 18:38:25.889 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 80658.4444ms
2022-06-06 18:38:25.889 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 18:38:25.890 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 80667.3869ms
2022-06-06 18:38:25.910 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 18:38:25.910 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2553ms
2022-06-06 21:06:23.092 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:06:23.824 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:06:23.824 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:06:23.827 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:06:23.827 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:06:23.827 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:06:24.685 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:06:25.795 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:06:27.408 +03:00 [Information] Executed DbCommand ("221"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-06 21:06:27.652 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-06 21:06:27.661 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:06:27.671 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:06:27.766 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:06:27.893 +03:00 [Information] Executed DbCommand ("117"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:06:27.955 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:06:28.109 +03:00 [Information] Executed ViewResult - view "Index" executed in 152.8918ms.
2022-06-06 21:06:28.111 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 439.6635ms
2022-06-06 21:06:28.112 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:06:28.148 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3467.7429ms
2022-06-06 21:06:28.372 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:06:28.377 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 4.2346ms
2022-06-06 21:06:35.073 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Details - -
2022-06-06 21:06:35.088 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Details - - - 404 0 - 14.6546ms
2022-06-06 21:06:37.511 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Details - -
2022-06-06 21:06:37.522 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Details - - - 404 0 - 11.2316ms
2022-06-06 21:06:38.689 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:06:38.690 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:06:38.690 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:06:38.729 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:06:38.839 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:06:38.840 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:06:38.852 +03:00 [Information] Executed ViewResult - view "Index" executed in 11.8782ms.
2022-06-06 21:06:38.852 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 161.5765ms
2022-06-06 21:06:38.852 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:06:38.854 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 164.6179ms
2022-06-06 21:06:38.886 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:06:38.886 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.7591ms
2022-06-06 21:06:40.059 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:06:40.060 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:06:40.063 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:06:44.059 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:06:44.074 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:06:44.189 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:06:45.449 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:06:45.463 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.4996ms.
2022-06-06 21:06:45.463 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 5400.5109ms
2022-06-06 21:06:45.464 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:06:45.465 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 5405.6550ms
2022-06-06 21:06:45.539 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:06:45.540 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2861ms
2022-06-06 21:06:47.624 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:06:47.626 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:06:47.637 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:06:51.868 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:06:51.885 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:06:52.002 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:06:52.530 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:06:53.211 +03:00 [Information] Executed ViewResult - view "Details" executed in 757.9057ms.
2022-06-06 21:06:53.212 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 5574.4642ms
2022-06-06 21:06:53.224 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:06:53.240 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 5601.1533ms
2022-06-06 21:06:53.243 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:06:53.244 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2946ms
2022-06-06 21:07:17.243 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 294
2022-06-06 21:07:17.247 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:07:17.250 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:07:58.410 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:07:58.532 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:08:11.510 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 21:08:13.868 +03:00 [Error] Failed executing DbCommand ("118"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 21:08:13.988 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d4bae196-cfe1-4fce-80bd-634a3d2de620
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d4bae196-cfe1-4fce-80bd-634a3d2de620
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-06 21:08:14.209 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 56958.9818ms
2022-06-06 21:08:14.210 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:08:14.210 +03:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:d4bae196-cfe1-4fce-80bd-634a3d2de620
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DLL.Repository.CommentRepository.AddCommentAsync(Comment comment, Int32 tourId) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\CommentRepository.cs:line 26
   at BLL.Services.TourService.AddComenntAsync(Comment comment, Int32 tourId, String userId) in E:\GitHub\TravelAgency\travelAgency\BLL\Services\TourService.cs:line 33
   at travelAgency.Controllers.ToursController.AddCommentAsync(String text, Int32 tourId) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Controllers\ToursController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-06 21:08:14.964 +03:00 [Information] Executed DbCommand ("107"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 21:08:14.982 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 294 - 500 - text/html;+charset=utf-8 57739.3143ms
2022-06-06 21:08:15.010 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:08:15.010 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.0183ms
2022-06-06 21:09:44.058 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:09:45.054 +03:00 [Information] Executed DbCommand ("124"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:09:45.184 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:09:45.298 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:09:45.409 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:09:45.531 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 21:09:45.544 +03:00 [Information] Applying migration '"20220606150935_UpdateDb"'.
2022-06-06 21:09:45.882 +03:00 [Error] Failed executing DbCommand ("149"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-06 21:09:56.488 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:09:56.953 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:09:56.953 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:09:56.956 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:09:56.956 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:09:56.956 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:09:57.443 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:09:57.708 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:09:57.723 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:09:58.528 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:09:58.880 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:09:59.991 +03:00 [Information] Executed DbCommand ("136"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:10:00.106 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:10:00.260 +03:00 [Information] Executed ViewResult - view "Index" executed in 154.0174ms.
2022-06-06 21:10:00.262 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2538.6133ms
2022-06-06 21:10:00.263 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:10:00.291 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2850.9022ms
2022-06-06 21:10:00.310 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:10:00.310 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 21:10:00.314 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.8195ms
2022-06-06 21:10:00.314 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-06 21:10:00.315 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 304 - text/css 4.8115ms
2022-06-06 21:10:02.421 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:10:02.433 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:10:02.436 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:10:02.475 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:10:02.494 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:10:02.612 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:10:02.614 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:10:02.629 +03:00 [Information] Executed ViewResult - view "Index" executed in 16.4384ms.
2022-06-06 21:10:02.630 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 193.8902ms
2022-06-06 21:10:02.630 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:10:02.631 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 209.4808ms
2022-06-06 21:10:02.648 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:10:02.648 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3152ms
2022-06-06 21:10:04.121 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:10:04.132 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:10:04.142 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:10:04.160 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:10:04.194 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:10:04.336 +03:00 [Information] Executed DbCommand ("126"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:10:04.339 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:10:04.360 +03:00 [Information] Executed ViewResult - view "Details" executed in 21.3724ms.
2022-06-06 21:10:04.360 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 217.8678ms
2022-06-06 21:10:04.360 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:10:04.361 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 239.8283ms
2022-06-06 21:10:04.377 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:10:04.377 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2002ms
2022-06-06 21:10:07.548 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 257
2022-06-06 21:10:07.551 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:10:07.553 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:10:10.207 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:10:10.336 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:10:12.564 +03:00 [Information] Executed DbCommand ("108"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 21:10:12.937 +03:00 [Error] Failed executing DbCommand ("113"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 21:10:12.978 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:474290be-eeab-48b9-a057-f66996e16bae
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:474290be-eeab-48b9-a057-f66996e16bae
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-06 21:10:13.181 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 5628.0038ms
2022-06-06 21:10:13.182 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:10:13.182 +03:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Conversion failed when converting the nvarchar value '097e5519-3f6e-44f8-b16f-0e2915e81e06' to data type int.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:474290be-eeab-48b9-a057-f66996e16bae
Error Number:245,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DLL.Repository.CommentRepository.AddCommentAsync(Comment comment, Int32 tourId) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\CommentRepository.cs:line 26
   at BLL.Services.TourService.AddComenntAsync(Comment comment, Int32 tourId, String userId) in E:\GitHub\TravelAgency\travelAgency\BLL\Services\TourService.cs:line 33
   at travelAgency.Controllers.ToursController.AddCommentAsync(String text, Int32 tourId) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Controllers\ToursController.cs:line 109
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-06 21:10:13.939 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 21:10:13.956 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 257 - 500 - text/html;+charset=utf-8 6407.5664ms
2022-06-06 21:10:13.977 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:10:13.977 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4117ms
2022-06-06 21:11:16.387 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:11:31.014 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:11:32.067 +03:00 [Information] Executed DbCommand ("123"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:11:32.196 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:11:32.308 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:11:32.418 +03:00 [Information] Executed DbCommand ("109"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:11:32.536 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 21:11:32.549 +03:00 [Information] Applying migration '"20220606150935_UpdateDb"'.
2022-06-06 21:11:32.851 +03:00 [Error] Failed executing DbCommand ("116"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-06 21:15:31.617 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:15:40.022 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:15:41.313 +03:00 [Information] Executed DbCommand ("123"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:15:41.443 +03:00 [Information] Executed DbCommand ("121"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:15:41.556 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-06 21:15:41.668 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-06 21:15:41.787 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-06 21:15:41.802 +03:00 [Information] Applying migration '"20220606150935_UpdateDb"'.
2022-06-06 21:15:42.107 +03:00 [Error] Failed executing DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);"
2022-06-06 21:19:12.492 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:19:12.946 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:19:12.946 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:19:12.949 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:19:12.949 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:19:12.949 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:19:13.256 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:19:13.487 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:19:13.503 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:19:14.295 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:19:14.631 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:19:15.778 +03:00 [Information] Executed DbCommand ("148"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:19:15.895 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:19:16.050 +03:00 [Information] Executed ViewResult - view "Index" executed in 155.3103ms.
2022-06-06 21:19:16.052 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2548.3317ms
2022-06-06 21:19:16.052 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:19:16.081 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2827.0115ms
2022-06-06 21:19:16.091 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:19:16.094 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.0434ms
2022-06-06 21:19:18.370 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:19:18.375 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:19:18.381 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:19:18.420 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:19:18.439 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:19:18.577 +03:00 [Information] Executed DbCommand ("131"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:19:18.578 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:19:18.596 +03:00 [Information] Executed ViewResult - view "Index" executed in 18.2638ms.
2022-06-06 21:19:18.596 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 214.8697ms
2022-06-06 21:19:18.596 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:19:18.598 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 227.8994ms
2022-06-06 21:19:18.615 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:19:18.615 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6364ms
2022-06-06 21:19:19.857 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:19:19.868 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:19:19.878 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:19:19.900 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:19:19.919 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:19:20.085 +03:00 [Information] Executed DbCommand ("151"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:19:20.087 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:19:20.112 +03:00 [Information] Executed ViewResult - view "Details" executed in 25.5551ms.
2022-06-06 21:19:20.112 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 233.9429ms
2022-06-06 21:19:20.112 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:19:20.113 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 255.9362ms
2022-06-06 21:19:20.128 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:19:20.128 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3512ms
2022-06-06 21:19:22.699 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 247
2022-06-06 21:19:22.703 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:19:22.705 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:19:24.925 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:19:25.057 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:19:28.464 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 21:19:30.380 +03:00 [Information] Executed DbCommand ("116"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 21:19:30.517 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-06 21:19:33.356 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:20:29.058 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:20:29.531 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:20:29.531 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:20:29.534 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:20:29.535 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:20:29.535 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:20:30.279 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:20:30.509 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:20:30.528 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:20:31.344 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:20:31.691 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:20:33.147 +03:00 [Information] Executed DbCommand ("485"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:20:33.268 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:20:33.416 +03:00 [Information] Executed ViewResult - view "Index" executed in 149.4066ms.
2022-06-06 21:20:33.419 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2890.7543ms
2022-06-06 21:20:33.419 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:20:33.446 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3169.3531ms
2022-06-06 21:20:33.461 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:20:33.464 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.8054ms
2022-06-06 21:20:35.631 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:20:35.638 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:20:35.640 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:20:35.679 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:20:35.696 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:20:35.821 +03:00 [Information] Executed DbCommand ("117"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:20:35.823 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:20:35.844 +03:00 [Information] Executed ViewResult - view "Index" executed in 21.4205ms.
2022-06-06 21:20:35.844 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 203.5424ms
2022-06-06 21:20:35.844 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:20:35.848 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 216.7863ms
2022-06-06 21:20:35.867 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:20:35.868 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.7520ms
2022-06-06 21:20:37.062 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:20:37.074 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:20:37.086 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:20:37.110 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:20:37.130 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:20:37.276 +03:00 [Information] Executed DbCommand ("133"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:20:37.278 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:20:37.313 +03:00 [Information] Executed ViewResult - view "Details" executed in 35.1296ms.
2022-06-06 21:20:37.313 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 227.1811ms
2022-06-06 21:20:37.313 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:20:37.314 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 252.2199ms
2022-06-06 21:20:37.329 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:20:37.329 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2046ms
2022-06-06 21:21:28.636 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 256
2022-06-06 21:21:28.643 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:21:28.645 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:21:35.743 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:21:35.876 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:21:50.092 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 21:21:51.861 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 21:21:51.992 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-06 21:21:54.559 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:21:54.560 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:21:54.569 +03:00 [Information] Executed ViewResult - view "Index" executed in 9.1433ms.
2022-06-06 21:21:54.569 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 25923.6256ms
2022-06-06 21:21:54.569 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:21:54.570 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 256 - 200 - text/html;+charset=utf-8 25934.2440ms
2022-06-06 21:21:54.599 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:21:54.599 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4617ms
2022-06-06 21:21:57.388 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:21:57.389 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:21:57.389 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:21:57.389 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:21:57.501 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:21:57.501 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:21:57.508 +03:00 [Information] Executed ViewResult - view "Details" executed in 6.6654ms.
2022-06-06 21:21:57.508 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 119.0676ms
2022-06-06 21:21:57.508 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:21:57.848 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 459.8351ms
2022-06-06 21:21:57.871 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:21:57.873 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3857ms
2022-06-06 21:27:35.828 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:27:36.483 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:27:36.483 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:27:36.486 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:27:36.486 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:27:36.486 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:27:37.124 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:27:37.355 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:27:37.370 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:27:38.186 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:27:38.540 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:27:39.598 +03:00 [Information] Executed DbCommand ("139"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:27:39.726 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:27:39.871 +03:00 [Information] Executed ViewResult - view "Index" executed in 146.9794ms.
2022-06-06 21:27:39.874 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2503.5061ms
2022-06-06 21:27:39.875 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:27:39.902 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2781.3604ms
2022-06-06 21:27:39.917 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:27:39.917 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:27:39.921 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.7891ms
2022-06-06 21:27:39.935 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:27:39.936 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 18.6255ms
2022-06-06 21:27:44.493 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-06 21:27:44.503 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-06 21:27:44.506 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-06 21:27:44.546 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:27:44.710 +03:00 [Information] Executed DbCommand ("130"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:27:44.748 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:27:44.770 +03:00 [Information] Executed ViewResult - view "Index" executed in 22.4116ms.
2022-06-06 21:27:44.770 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 264.7241ms
2022-06-06 21:27:44.771 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-06 21:27:44.772 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 278.7335ms
2022-06-06 21:27:44.790 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:27:44.792 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-06 21:27:44.792 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 304 - text/css 1.9392ms
2022-06-06 21:27:44.838 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:27:44.839 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.6266ms
2022-06-06 21:27:44.847 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Images/1.jpg - -
2022-06-06 21:27:44.847 +03:00 [Information] The file "/Images/1.jpg" was not modified
2022-06-06 21:27:44.847 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Images/1.jpg - - - 304 - image/jpeg 0.5653ms
2022-06-06 21:27:47.004 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:27:47.014 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:27:47.016 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:27:47.025 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:27:47.042 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:27:47.160 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:27:47.161 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:27:47.174 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.3656ms.
2022-06-06 21:27:47.174 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 157.5289ms
2022-06-06 21:27:47.174 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:27:47.175 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 170.8654ms
2022-06-06 21:27:47.189 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:27:47.189 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:27:47.190 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2826ms
2022-06-06 21:27:47.190 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-06 21:27:47.190 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 304 - text/css 0.5712ms
2022-06-06 21:27:48.294 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:27:48.296 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:27:48.306 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:27:48.318 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:27:48.360 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:27:48.479 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:27:48.480 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:27:48.507 +03:00 [Information] Executed ViewResult - view "Details" executed in 27.064ms.
2022-06-06 21:27:48.507 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 200.6908ms
2022-06-06 21:27:48.507 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:27:48.508 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 213.4856ms
2022-06-06 21:27:48.524 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:27:48.524 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4480ms
2022-06-06 21:28:03.141 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 288
2022-06-06 21:28:03.145 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:28:03.148 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:28:05.179 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:28:05.294 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 21:28:06.773 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 21:28:07.135 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 21:28:07.279 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-06 21:28:07.575 +03:00 [Information] Executed DbCommand ("131"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:28:07.576 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:28:07.594 +03:00 [Information] Executed ViewResult - view "Index" executed in 18.0575ms.
2022-06-06 21:28:07.595 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 4446.8437ms
2022-06-06 21:28:07.595 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 21:28:07.596 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 288 - 200 - text/html;+charset=utf-8 4455.1565ms
2022-06-06 21:28:07.628 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:28:07.628 +03:00 [Information] The file "/css/site.css" was not modified
2022-06-06 21:28:07.628 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 304 - text/css 0.3797ms
2022-06-06 21:28:07.641 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:28:07.641 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3475ms
2022-06-06 21:28:09.297 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:28:09.298 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:28:09.298 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:28:09.299 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:28:09.412 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:28:09.412 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:28:09.417 +03:00 [Information] Executed ViewResult - view "Details" executed in 4.3863ms.
2022-06-06 21:28:09.417 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 118.3649ms
2022-06-06 21:28:09.417 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:28:09.418 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 120.4387ms
2022-06-06 21:28:09.433 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:28:09.433 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1687ms
2022-06-06 21:29:53.476 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:29:53.973 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:29:53.974 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:29:53.981 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:29:53.981 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:29:53.981 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:29:54.580 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:29:54.813 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:29:54.827 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:29:55.638 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:29:56.037 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:29:57.138 +03:00 [Information] Executed DbCommand ("172"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:29:57.271 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:29:57.433 +03:00 [Information] Executed ViewResult - view "Index" executed in 161.9111ms.
2022-06-06 21:29:57.435 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2607.5827ms
2022-06-06 21:29:57.436 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:29:57.487 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2909.2468ms
2022-06-06 21:29:57.508 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:29:57.508 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=354&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:29:57.511 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.6208ms
2022-06-06 21:29:57.517 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:29:57.517 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=354&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 9.5762ms
2022-06-06 21:29:59.306 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Details - -
2022-06-06 21:29:59.316 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Details - - - 404 0 - 8.5621ms
2022-06-06 21:30:00.929 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:30:00.939 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:30:00.939 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:30:00.976 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:01.093 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:30:01.094 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:30:01.105 +03:00 [Information] Executed ViewResult - view "Index" executed in 11.0917ms.
2022-06-06 21:30:01.105 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 166.3292ms
2022-06-06 21:30:01.105 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:30:01.106 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 177.6381ms
2022-06-06 21:30:01.121 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:01.121 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=98&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:01.122 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4737ms
2022-06-06 21:30:01.122 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:01.122 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=98&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 1.1877ms
2022-06-06 21:30:02.466 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:30:02.468 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:30:02.470 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:30:02.479 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:02.495 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:30:02.613 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:30:02.614 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:30:02.629 +03:00 [Information] Executed ViewResult - view "Index" executed in 15.6076ms.
2022-06-06 21:30:02.630 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 159.1992ms
2022-06-06 21:30:02.630 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:30:02.853 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 387.2081ms
2022-06-06 21:30:02.875 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=623&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:02.877 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:02.879 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:02.879 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=623&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 4.0944ms
2022-06-06 21:30:02.880 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4522ms
2022-06-06 21:30:03.665 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:30:03.667 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:30:03.678 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:30:03.691 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:03.711 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:30:03.853 +03:00 [Information] Executed DbCommand ("130"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:30:03.856 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:30:03.888 +03:00 [Information] Executed ViewResult - view "Details" executed in 32.4776ms.
2022-06-06 21:30:03.888 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 210.0456ms
2022-06-06 21:30:03.888 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:30:03.889 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 223.3701ms
2022-06-06 21:30:03.904 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=882&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:03.905 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:03.905 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:03.905 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2924ms
2022-06-06 21:30:03.905 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=882&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 0.8057ms
2022-06-06 21:30:45.449 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:30:45.799 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:30:45.799 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:30:45.801 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:30:45.802 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:30:45.802 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:30:46.253 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:30:46.485 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:30:46.500 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:30:47.294 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:47.654 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:30:48.838 +03:00 [Information] Executed DbCommand ("177"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:30:48.972 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:30:49.115 +03:00 [Information] Executed ViewResult - view "Index" executed in 143.1551ms.
2022-06-06 21:30:49.118 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2617.3955ms
2022-06-06 21:30:49.118 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:30:49.151 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2901.1771ms
2022-06-06 21:30:49.170 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:49.170 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=35&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:49.172 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.6438ms
2022-06-06 21:30:49.178 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:49.178 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=35&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 8.8056ms
2022-06-06 21:30:52.160 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:30:52.170 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:30:52.172 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:30:52.210 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:52.227 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:30:52.346 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:30:52.348 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:30:52.366 +03:00 [Information] Executed ViewResult - view "Index" executed in 19.1457ms.
2022-06-06 21:30:52.366 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 193.9706ms
2022-06-06 21:30:52.366 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:30:52.368 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 207.8886ms
2022-06-06 21:30:52.385 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=358&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:52.385 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:52.385 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2725ms
2022-06-06 21:30:52.394 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:52.394 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=358&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 9.8261ms
2022-06-06 21:30:53.513 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:30:53.523 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:30:53.534 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:30:53.552 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:30:53.578 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:30:53.719 +03:00 [Information] Executed DbCommand ("128"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:30:53.721 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:30:53.753 +03:00 [Information] Executed ViewResult - view "Details" executed in 32.466ms.
2022-06-06 21:30:53.753 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 219.0771ms
2022-06-06 21:30:53.753 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:30:53.754 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 240.6464ms
2022-06-06 21:30:53.774 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=747&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - -
2022-06-06 21:30:53.774 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:30:53.774 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5182ms
2022-06-06 21:30:53.780 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:30:53.780 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=747&v=06HFRHT0REdkzhzSfIQ5jnHEWZBMOCs857t4VI-Efus - - - 200 1421 text/css 6.6195ms
2022-06-06 21:30:59.879 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-06 21:30:59.884 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-06 21:30:59.884 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 5.0607ms
2022-06-06 21:30:59.908 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-06 21:30:59.911 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-06 21:30:59.911 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 2.7922ms
2022-06-06 21:33:00.561 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 21:33:00.978 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 21:33:00.978 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 21:33:01.009 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 21:33:01.009 +03:00 [Information] Hosting environment: "Development"
2022-06-06 21:33:01.009 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 21:33:01.504 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 21:33:01.730 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:33:01.750 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 21:33:02.538 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:33:02.879 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:33:04.042 +03:00 [Information] Executed DbCommand ("139"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:33:04.175 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:33:04.329 +03:00 [Information] Executed ViewResult - view "Index" executed in 151.8752ms.
2022-06-06 21:33:04.332 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2580.9188ms
2022-06-06 21:33:04.332 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 21:33:04.361 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2858.8609ms
2022-06-06 21:33:04.381 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=240&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 21:33:04.381 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:33:04.384 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.7323ms
2022-06-06 21:33:04.390 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:33:04.390 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=240&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 9.8751ms
2022-06-06 21:33:06.558 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 21:33:06.567 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:33:06.570 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:33:06.606 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:33:06.626 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:33:06.746 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 21:33:06.747 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 21:33:06.766 +03:00 [Information] Executed ViewResult - view "Index" executed in 19.5406ms.
2022-06-06 21:33:06.766 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 195.9201ms
2022-06-06 21:33:06.767 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 21:33:06.768 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 209.6567ms
2022-06-06 21:33:06.788 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:33:06.788 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=757&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 21:33:06.788 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2383ms
2022-06-06 21:33:06.788 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:33:06.788 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=757&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.3079ms
2022-06-06 21:33:07.518 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 21:33:07.528 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:33:07.537 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 21:33:07.555 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 21:33:07.573 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 21:33:07.713 +03:00 [Information] Executed DbCommand ("127"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 21:33:07.715 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 21:33:07.742 +03:00 [Information] Executed ViewResult - view "Details" executed in 27.6533ms.
2022-06-06 21:33:07.742 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 204.5298ms
2022-06-06 21:33:07.742 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 21:33:07.743 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 224.8827ms
2022-06-06 21:33:07.757 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 21:33:07.758 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=738&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 21:33:07.758 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3411ms
2022-06-06 21:33:07.765 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 21:33:07.765 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=738&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 7.3801ms
2022-06-06 22:15:16.470 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-06 22:15:17.126 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-06 22:15:17.127 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-06 22:15:17.129 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-06 22:15:17.129 +03:00 [Information] Hosting environment: "Development"
2022-06-06 22:15:17.129 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-06 22:15:18.200 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-06 22:15:19.924 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:15:21.640 +03:00 [Information] Executed DbCommand ("199"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-06 22:15:21.897 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-06 22:15:21.906 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 22:15:21.916 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-06 22:15:22.009 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 22:15:22.136 +03:00 [Information] Executed DbCommand ("118"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 22:15:22.245 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:15:22.403 +03:00 [Information] Executed ViewResult - view "Index" executed in 166.2319ms.
2022-06-06 22:15:22.405 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 488.7107ms
2022-06-06 22:15:22.405 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-06 22:15:22.415 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 4218.8552ms
2022-06-06 22:15:22.431 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:15:22.431 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=344&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:15:22.434 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.7577ms
2022-06-06 22:15:22.442 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:15:22.442 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=344&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 11.0833ms
2022-06-06 22:15:29.822 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Admin - -
2022-06-06 22:15:29.923 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-06 22:15:29.929 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Admin\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.AdminController" ("travelAgency").
2022-06-06 22:15:29.969 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:15:30.096 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 22:15:30.098 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:15:30.184 +03:00 [Information] Executed ViewResult - view "Index" executed in 86.079ms.
2022-06-06 22:15:30.185 +03:00 [Information] Executed action "travelAgency.Controllers.AdminController.Index (travelAgency)" in 256.4262ms
2022-06-06 22:15:30.186 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.AdminController.Index (travelAgency)"'
2022-06-06 22:15:30.203 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Admin - - - 200 - text/html;+charset=utf-8 381.3150ms
2022-06-06 22:15:30.230 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=107&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:15:30.230 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:15:30.230 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=107&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 0.6971ms
2022-06-06 22:15:30.271 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:15:30.271 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2467ms
2022-06-06 22:15:35.974 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 22:15:35.988 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:35.990 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:15:36.000 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:15:36.016 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 22:15:36.133 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 22:15:36.135 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:15:36.150 +03:00 [Information] Executed ViewResult - view "Index" executed in 16.0434ms.
2022-06-06 22:15:36.150 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 160.2022ms
2022-06-06 22:15:36.150 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:37.360 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 22:15:37.361 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:37.361 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:15:37.361 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:15:37.474 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 22:15:37.475 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:15:37.496 +03:00 [Information] Executed ViewResult - view "Index" executed in 21.6386ms.
2022-06-06 22:15:37.496 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 135.7447ms
2022-06-06 22:15:37.497 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:38.532 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 2557.8064ms
2022-06-06 22:15:38.567 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 1207.0944ms
2022-06-06 22:15:38.904 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=490&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:15:38.948 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:15:38.949 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2247ms
2022-06-06 22:15:39.057 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:15:39.057 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=490&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 153.4288ms
2022-06-06 22:15:40.813 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-06 22:15:40.836 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 22:15:40.837 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:15:40.838 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-06 22:15:41.009 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 171.2538ms.
2022-06-06 22:15:41.009 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 171.8831ms
2022-06-06 22:15:41.009 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-06 22:15:41.011 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 197.2741ms
2022-06-06 22:15:41.157 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:15:41.157 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=899&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:15:41.157 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3253ms
2022-06-06 22:15:41.158 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:15:41.158 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=899&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 0.9711ms
2022-06-06 22:15:48.483 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-06 22:15:48.484 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:48.485 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:15:48.485 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:15:48.597 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 22:15:48.598 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:15:48.602 +03:00 [Information] Executed ViewResult - view "Index" executed in 4.605ms.
2022-06-06 22:15:48.603 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 117.9178ms
2022-06-06 22:15:48.603 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-06 22:15:48.604 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 120.4169ms
2022-06-06 22:15:48.624 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:15:48.624 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3628ms
2022-06-06 22:15:48.625 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=600&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:15:48.625 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:15:48.625 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=600&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 0.6080ms
2022-06-06 22:16:00.408 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 22:16:00.410 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 22:16:00.420 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:16:00.429 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:16:00.446 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-06 22:16:00.565 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 22:16:00.566 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 22:16:00.589 +03:00 [Information] Executed ViewResult - view "Details" executed in 23.1451ms.
2022-06-06 22:16:00.589 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 169.4154ms
2022-06-06 22:16:00.589 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 22:16:00.590 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 182.5951ms
2022-06-06 22:16:00.613 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=583&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:16:00.613 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:16:00.614 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1409ms
2022-06-06 22:16:00.615 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:16:00.615 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=583&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.9860ms
2022-06-06 22:16:13.674 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 254
2022-06-06 22:16:13.676 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 22:16:13.679 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:16:15.310 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:16:15.423 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-06 22:16:17.831 +03:00 [Information] Executed DbCommand ("110"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-06 22:16:18.175 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-06 22:16:18.312 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-06 22:16:18.552 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-06 22:16:18.553 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-06 22:16:18.564 +03:00 [Information] Executed ViewResult - view "Index" executed in 10.8226ms.
2022-06-06 22:16:18.564 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 4885.1277ms
2022-06-06 22:16:18.564 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-06 22:16:18.570 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 254 - 200 - text/html;+charset=utf-8 4896.0170ms
2022-06-06 22:16:18.600 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=556&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:16:18.601 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:16:18.601 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=556&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.9760ms
2022-06-06 22:16:18.604 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:16:18.604 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2069ms
2022-06-06 22:16:20.628 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-06 22:16:20.629 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 22:16:20.629 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-06 22:16:20.630 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-06 22:16:20.742 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-06 22:16:20.742 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-06 22:16:20.747 +03:00 [Information] Executed ViewResult - view "Details" executed in 4.7518ms.
2022-06-06 22:16:20.747 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 118.0484ms
2022-06-06 22:16:20.747 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-06 22:16:20.748 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 120.1744ms
2022-06-06 22:16:20.774 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-06 22:16:20.774 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.5076ms
2022-06-06 22:16:20.775 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=744&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-06 22:16:20.776 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-06 22:16:20.776 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=744&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.0265ms
2022-06-07 13:55:53.566 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-07 13:55:53.984 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-07 13:55:53.984 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-07 13:55:53.986 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-07 13:55:53.986 +03:00 [Information] Hosting environment: "Development"
2022-06-07 13:55:53.986 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-07 13:55:54.505 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-07 13:55:55.868 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:55:57.598 +03:00 [Information] Executed DbCommand ("153"ms) [Parameters=["@__p_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
FROM [AspNetUsers] AS [a]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Id] = @__p_0)"
2022-06-07 13:55:57.848 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__user_Id_0='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0"
2022-06-07 13:55:57.858 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 13:55:57.868 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-07 13:55:57.986 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 13:55:58.141 +03:00 [Information] Executed DbCommand ("146"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 13:55:58.234 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 13:55:58.432 +03:00 [Information] Executed ViewResult - view "Index" executed in 197.977ms.
2022-06-07 13:55:58.434 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 566.3203ms
2022-06-07 13:55:58.435 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 13:55:58.490 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3988.0625ms
2022-06-07 13:55:58.507 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=309&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:55:58.507 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - -
2022-06-07 13:55:58.517 +03:00 [Information] Sending file. Request path: '"/travelAgency.styles.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\obj\Debug\net6.0\scopedcss\bundle\travelAgency.styles.css"'
2022-06-07 13:55:58.517 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:55:58.517 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/travelAgency.styles.css?v=xJxepeY5--g6hyg1wOzs3vRebJ3RBvoy_RvJFnyEOdo - - - 200 1129 text/css 10.6700ms
2022-06-07 13:55:58.517 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=309&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 10.6596ms
2022-06-07 13:55:58.754 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:55:58.758 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.7875ms
2022-06-07 13:56:10.250 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddTour - -
2022-06-07 13:56:10.260 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-07 13:56:10.261 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddTour()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:10.263 +03:00 [Information] Executing ViewResult, running view "AddTour".
2022-06-07 13:56:10.327 +03:00 [Information] Executed ViewResult - view "AddTour" executed in 64.8958ms.
2022-06-07 13:56:10.327 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTour (travelAgency)" in 65.9637ms
2022-06-07 13:56:10.327 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTour (travelAgency)"'
2022-06-07 13:56:10.329 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddTour - - - 200 - text/html;+charset=utf-8 79.3960ms
2022-06-07 13:56:10.347 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=316&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:10.348 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:10.348 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=316&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 0.8230ms
2022-06-07 13:56:10.349 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:10.350 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4285ms
2022-06-07 13:56:26.164 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - -
2022-06-07 13:56:26.188 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - -
2022-06-07 13:56:26.271 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/css/bootstrap.min.css.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\css\bootstrap.min.css.map"'
2022-06-07 13:56:26.271 +03:00 [Information] Sending file. Request path: '"/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\lib\bootstrap\dist\js\bootstrap.bundle.min.js.map"'
2022-06-07 13:56:26.272 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/js/bootstrap.bundle.min.js.map - - - 200 327261 text/plain 107.9996ms
2022-06-07 13:56:26.272 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/lib/bootstrap/dist/css/bootstrap.min.css.map - - - 200 449111 text/plain 83.4867ms
2022-06-07 13:56:31.231 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 417
2022-06-07 13:56:31.242 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-07 13:56:31.254 +03:00 [Information] Route matched with "{action = \"AddTour\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddTourAsync(Domain.Models.ViewModels.TourViewModel)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:32.910 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:33.053 +03:00 [Information] Executed DbCommand ("119"ms) [Parameters=["@__Email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [e].[Id], [e].[UserId], [t].[Id], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Discriminator], [t].[Email], [t].[EmailConfirmed], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName], [t].[EmployeeId], [t].[Name], [t].[PhotoPath], [t0].[Id], [t0].[CountPeople], [t0].[Duration], [t0].[EmployeeId], [t0].[HotelId], [t0].[IsHotTour], [t0].[Price], [t0].[Rating], [t0].[TypeTransport], [t0].[Id0], [t0].[Description], [t0].[HotelAddressId], [t0].[Name], [t0].[Rating0], [t0].[TypeBeach], [t0].[TypeFood], [t0].[Id1], [t0].[City], [t0].[Country], [t0].[Street]
FROM [Employees] AS [e]
INNER JOIN (
    SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath]
    FROM [AspNetUsers] AS [a]
    WHERE [a].[Discriminator] = N'User'
) AS [t] ON [e].[UserId] = [t].[Id]
LEFT JOIN (
    SELECT [t1].[Id], [t1].[CountPeople], [t1].[Duration], [t1].[EmployeeId], [t1].[HotelId], [t1].[IsHotTour], [t1].[Price], [t1].[Rating], [t1].[TypeTransport], [h].[Id] AS [Id0], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating] AS [Rating0], [h].[TypeBeach], [h].[TypeFood], [h0].[Id] AS [Id1], [h0].[City], [h0].[Country], [h0].[Street]
    FROM [Tours] AS [t1]
    LEFT JOIN [Hotels] AS [h] ON [t1].[HotelId] = [h].[Id]
    LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
) AS [t0] ON [e].[Id] = [t0].[EmployeeId]
WHERE [t].[Email] = @__Email_0
ORDER BY [e].[Id], [t].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 13:56:35.021 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [HotelAddresses] ([City], [Country], [Street])
VALUES (@p0, @p1, @p2);
SELECT [Id]
FROM [HotelAddresses]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 13:56:35.147 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p3='?' (Size = 4000), @p4='?' (DbType = Int32), @p5='?' (Size = 4000), @p6='?' (DbType = Int32), @p7='?' (Size = 4000), @p8='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Hotels] ([Description], [HotelAddressId], [Name], [Rating], [TypeBeach], [TypeFood])
VALUES (@p3, @p4, @p5, @p6, @p7, @p8);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 13:56:35.260 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@p9='?' (DbType = Int32), @p10='?' (Size = 4000), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Boolean), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Tours] ([CountPeople], [Duration], [EmployeeId], [HotelId], [IsHotTour], [Price], [Rating], [TypeTransport])
VALUES (@p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
SELECT [Id]
FROM [Tours]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 13:56:35.737 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 13:56:35.879 +03:00 [Information] Executed DbCommand ("135"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 13:56:35.880 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 13:56:35.894 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.4289ms.
2022-06-07 13:56:35.894 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)" in 4640.0242ms
2022-06-07 13:56:35.894 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddTourAsync (travelAgency)"'
2022-06-07 13:56:35.898 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddTour application/x-www-form-urlencoded 417 - 200 - text/html;+charset=utf-8 4666.7368ms
2022-06-07 13:56:35.919 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:35.919 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=891&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:35.919 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2093ms
2022-06-07 13:56:35.920 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:35.920 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=891&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.5869ms
2022-06-07 13:56:45.068 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 13:56:45.069 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:45.072 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:45.089 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:45.106 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 13:56:45.226 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 13:56:45.227 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 13:56:45.242 +03:00 [Information] Executed ViewResult - view "Details" executed in 15.7648ms.
2022-06-07 13:56:45.242 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 169.4978ms
2022-06-07 13:56:45.242 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:45.243 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 175.3694ms
2022-06-07 13:56:45.261 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:45.261 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=237&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:45.262 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2892ms
2022-06-07 13:56:45.263 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:45.263 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=237&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.5814ms
2022-06-07 13:56:48.186 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 13:56:48.187 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:48.188 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:48.189 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:48.304 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 13:56:48.305 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 13:56:48.309 +03:00 [Information] Executed ViewResult - view "Details" executed in 4.6057ms.
2022-06-07 13:56:48.309 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 121.6377ms
2022-06-07 13:56:48.309 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:48.310 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 124.7135ms
2022-06-07 13:56:48.327 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=306&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:48.328 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:48.329 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=306&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.2733ms
2022-06-07 13:56:48.329 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:48.329 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2056ms
2022-06-07 13:56:50.957 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-07 13:56:50.958 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 13:56:50.961 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:50.962 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:51.109 +03:00 [Information] Executed DbCommand ("147"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 13:56:51.110 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 13:56:51.117 +03:00 [Information] Executed ViewResult - view "Index" executed in 7.1342ms.
2022-06-07 13:56:51.117 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 155.9258ms
2022-06-07 13:56:51.117 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 13:56:51.118 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 161.0777ms
2022-06-07 13:56:51.135 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:51.135 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1927ms
2022-06-07 13:56:51.136 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=114&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:51.137 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:51.137 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=114&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.1584ms
2022-06-07 13:56:52.300 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - -
2022-06-07 13:56:52.301 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:52.301 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:52.302 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:52.416 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 13:56:52.417 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 13:56:52.431 +03:00 [Information] Executed ViewResult - view "Details" executed in 13.8002ms.
2022-06-07 13:56:52.431 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 129.6854ms
2022-06-07 13:56:52.431 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 13:56:52.432 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=1 - - - 200 - text/html;+charset=utf-8 131.5725ms
2022-06-07 13:56:52.445 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=427&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:52.448 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:52.448 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1816ms
2022-06-07 13:56:52.448 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:52.448 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=427&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 3.3320ms
2022-06-07 13:56:56.521 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-07 13:56:56.522 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 13:56:56.522 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 13:56:56.523 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 13:56:56.635 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 13:56:56.636 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 13:56:56.643 +03:00 [Information] Executed ViewResult - view "Index" executed in 6.6954ms.
2022-06-07 13:56:56.643 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 120.429ms
2022-06-07 13:56:56.643 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 13:56:56.644 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 122.2991ms
2022-06-07 13:56:56.658 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=640&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 13:56:56.659 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 13:56:56.659 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=640&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.4869ms
2022-06-07 13:56:56.662 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 13:56:56.666 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 3.6729ms
2022-06-07 14:09:13.840 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-07 14:09:14.147 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-07 14:09:14.147 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-07 14:09:14.149 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-07 14:09:14.149 +03:00 [Information] Hosting environment: "Development"
2022-06-07 14:09:14.149 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-07 14:09:14.773 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-07 14:09:14.999 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:09:15.015 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-07 14:09:15.777 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:09:16.117 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:09:17.640 +03:00 [Information] Executed DbCommand ("499"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:09:17.779 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:09:17.933 +03:00 [Information] Executed ViewResult - view "Index" executed in 154.5803ms.
2022-06-07 14:09:17.936 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2920.5302ms
2022-06-07 14:09:17.936 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:09:17.965 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 3194.9086ms
2022-06-07 14:09:17.979 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:09:17.979 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=848&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:09:17.982 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.5811ms
2022-06-07 14:09:17.988 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:09:17.989 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=848&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 9.2741ms
2022-06-07 14:09:54.900 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Home/Details - -
2022-06-07 14:09:54.922 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Home/Details - - - 404 0 - 22.3800ms
2022-06-07 14:09:56.268 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-07 14:09:56.278 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:09:56.278 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-07 14:09:56.313 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:09:56.430 +03:00 [Information] Executed DbCommand ("114"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:09:56.430 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:09:56.443 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.0466ms.
2022-06-07 14:09:56.444 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 165.7917ms
2022-06-07 14:09:56.444 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:09:56.445 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 176.6324ms
2022-06-07 14:09:56.462 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=435&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:09:56.464 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:09:56.465 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3047ms
2022-06-07 14:09:56.464 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:09:56.466 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=435&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 3.7169ms
2022-06-07 14:09:57.548 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-07 14:09:57.549 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:09:57.551 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:09:57.560 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:09:57.576 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:09:57.743 +03:00 [Information] Executed DbCommand ("161"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 14:09:57.744 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:09:57.757 +03:00 [Information] Executed ViewResult - view "Index" executed in 14.2324ms.
2022-06-07 14:09:57.758 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 206.2175ms
2022-06-07 14:09:57.758 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:09:57.759 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 210.9195ms
2022-06-07 14:09:57.780 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:09:57.780 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=754&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:09:57.780 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4590ms
2022-06-07 14:09:57.786 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:09:57.786 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=754&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 6.4839ms
2022-06-07 14:09:58.690 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 14:09:58.691 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:09:58.701 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:09:58.712 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:09:58.732 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:09:58.874 +03:00 [Information] Executed DbCommand ("129"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:09:58.876 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 14:09:58.896 +03:00 [Information] Executed ViewResult - view "Details" executed in 20.9984ms.
2022-06-07 14:09:58.897 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 195.9862ms
2022-06-07 14:09:58.897 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:09:58.898 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 207.9718ms
2022-06-07 14:09:58.911 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=893&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:09:58.911 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:09:58.912 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 1.2023ms
2022-06-07 14:09:58.912 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:09:58.912 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=893&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.5156ms
2022-06-07 14:10:02.116 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddExcursion?TourId=2 - -
2022-06-07 14:10:02.119 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddExcursion (travelAgency)"'
2022-06-07 14:10:02.120 +03:00 [Information] Route matched with "{action = \"AddExcursion\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddExcursion(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:10:09.178 +03:00 [Information] Executing ViewResult, running view "AddExcursion".
2022-06-07 14:10:09.219 +03:00 [Information] Executed ViewResult - view "AddExcursion" executed in 40.9862ms.
2022-06-07 14:10:09.219 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddExcursion (travelAgency)" in 7098.1666ms
2022-06-07 14:10:09.219 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddExcursion (travelAgency)"'
2022-06-07 14:10:09.220 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddExcursion?TourId=2 - - - 200 - text/html;+charset=utf-8 7103.2517ms
2022-06-07 14:10:09.235 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=209&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:10:09.236 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:10:09.236 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=209&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.4354ms
2022-06-07 14:10:09.242 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:10:09.242 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1856ms
2022-06-07 14:10:56.669 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddExcursion application/x-www-form-urlencoded 312
2022-06-07 14:10:56.670 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)"'
2022-06-07 14:10:56.680 +03:00 [Information] Route matched with "{action = \"AddExcursion\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddExcursionAsync(Domain.Models.Excursion)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:11:23.152 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:11:23.275 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-07 14:11:23.631 +03:00 [Error] Failed executing DbCommand ("123"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Excursions] ([Description], [ExcursionTime], [Name], [Price], [TourId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Excursions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 14:11:23.800 +03:00 [Error] An exception occurred in the database while saving changes for context type '"DLL.Context.TravelAgencyContext"'."
""Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ShowPlaceId', table 'TravelAgency.dbo.Excursions'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b218d2bd-28bf-4357-a4f7-faa3678a036d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)"
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ShowPlaceId', table 'TravelAgency.dbo.Excursions'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b218d2bd-28bf-4357-a4f7-faa3678a036d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-06-07 14:11:24.071 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)" in 27390.6652ms
2022-06-07 14:11:24.071 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)"'
2022-06-07 14:11:24.072 +03:00 [Error] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'ShowPlaceId', table 'TravelAgency.dbo.Excursions'; column does not allow nulls. INSERT fails.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:b218d2bd-28bf-4357-a4f7-faa3678a036d
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at DLL.Repository.ExcursionRepository.AddExcursionAsync(Excursion excursion, Int32 TourId) in E:\GitHub\TravelAgency\travelAgency\DLL\Repository\ExcursionRepository.cs:line 26
   at BLL.Services.TourService.AddExcursionAsync(Excursion excursion, Int32 TourId) in E:\GitHub\TravelAgency\travelAgency\BLL\Services\TourService.cs:line 37
   at travelAgency.Controllers.ToursController.AddExcursionAsync(Excursion excursion) in E:\GitHub\TravelAgency\travelAgency\travelAgency\Controllers\ToursController.cs:line 117
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-06-07 14:11:29.126 +03:00 [Information] Executed DbCommand ("115"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1"
2022-06-07 14:11:29.245 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');"
2022-06-07 14:11:29.360 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];"
2022-06-07 14:11:29.381 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddExcursion application/x-www-form-urlencoded 312 - 500 - text/html;+charset=utf-8 32711.7713ms
2022-06-07 14:11:29.403 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:11:29.403 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2734ms
2022-06-07 14:13:39.534 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-07 14:13:39.949 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-07 14:13:39.949 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-07 14:13:39.956 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-07 14:13:39.956 +03:00 [Information] Hosting environment: "Development"
2022-06-07 14:13:39.956 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-07 14:13:40.319 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-07 14:13:40.542 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:13:40.556 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-07 14:13:41.322 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:13:41.686 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:13:42.752 +03:00 [Information] Executed DbCommand ("147"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:13:42.884 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:13:43.032 +03:00 [Information] Executed ViewResult - view "Index" executed in 147.785ms.
2022-06-07 14:13:43.035 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2478.4967ms
2022-06-07 14:13:43.035 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:13:43.062 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2744.6707ms
2022-06-07 14:13:43.077 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=955&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:13:43.077 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:13:43.080 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.9520ms
2022-06-07 14:13:43.086 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:13:43.086 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=955&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 8.3715ms
2022-06-07 14:13:45.653 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-07 14:13:45.663 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:13:45.666 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:13:45.702 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:13:45.719 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:13:45.848 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 14:13:45.849 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:13:45.870 +03:00 [Information] Executed ViewResult - view "Index" executed in 21.1414ms.
2022-06-07 14:13:45.870 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 204.4252ms
2022-06-07 14:13:45.870 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:13:45.871 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 218.6586ms
2022-06-07 14:13:45.888 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=862&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:13:45.889 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:13:45.889 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3201ms
2022-06-07 14:13:45.899 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:13:45.900 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=862&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 11.5188ms
2022-06-07 14:13:46.968 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 14:13:46.980 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:13:46.991 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:13:47.011 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:13:47.030 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:13:47.179 +03:00 [Information] Executed DbCommand ("135"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:13:47.181 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 14:13:47.207 +03:00 [Information] Executed ViewResult - view "Details" executed in 26.2124ms.
2022-06-07 14:13:47.207 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 215.9587ms
2022-06-07 14:13:47.207 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:13:47.208 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 240.0319ms
2022-06-07 14:13:47.220 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=200&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:13:47.221 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:13:47.221 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:13:47.221 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1825ms
2022-06-07 14:13:47.221 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=200&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 0.9950ms
2022-06-07 14:13:48.826 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/AddExcursion?TourId=2 - -
2022-06-07 14:13:48.830 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddExcursion (travelAgency)"'
2022-06-07 14:13:48.831 +03:00 [Information] Route matched with "{action = \"AddExcursion\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult AddExcursion(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:13:53.479 +03:00 [Information] Executing ViewResult, running view "AddExcursion".
2022-06-07 14:13:53.517 +03:00 [Information] Executed ViewResult - view "AddExcursion" executed in 37.9203ms.
2022-06-07 14:13:53.517 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddExcursion (travelAgency)" in 4685.33ms
2022-06-07 14:13:53.517 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddExcursion (travelAgency)"'
2022-06-07 14:13:53.518 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/AddExcursion?TourId=2 - - - 200 - text/html;+charset=utf-8 4692.0435ms
2022-06-07 14:13:53.536 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=510&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:13:53.538 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:13:53.538 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=510&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.9405ms
2022-06-07 14:13:53.584 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:13:53.585 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2903ms
2022-06-07 14:14:06.414 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddExcursion application/x-www-form-urlencoded 314
2022-06-07 14:14:06.416 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)"'
2022-06-07 14:14:06.426 +03:00 [Information] Route matched with "{action = \"AddExcursion\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddExcursionAsync(Domain.Models.Excursion)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:14:42.684 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:14:42.808 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-07 14:14:48.823 +03:00 [Information] Executed DbCommand ("115"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (DbType = Double), @p4='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Excursions] ([Description], [ExcursionTime], [Name], [Price], [TourId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Excursions]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 14:14:48.956 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-07 14:14:50.790 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:14:50.932 +03:00 [Information] Executed DbCommand ("134"ms) [Parameters=["@__excursion_TourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__excursion_TourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:14:50.932 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 14:14:50.942 +03:00 [Information] Executed ViewResult - view "Details" executed in 9.4524ms.
2022-06-07 14:14:50.942 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)" in 44516.1463ms
2022-06-07 14:14:50.942 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddExcursionAsync (travelAgency)"'
2022-06-07 14:14:50.943 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddExcursion application/x-www-form-urlencoded 314 - 200 - text/html;+charset=utf-8 44528.5228ms
2022-06-07 14:14:50.966 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=934&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:14:50.968 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:14:50.969 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=934&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 2.5041ms
2022-06-07 14:14:50.971 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:14:50.971 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.1684ms
2022-06-07 14:17:58.230 +03:00 [Information] User profile is available. Using '"C:\Users\Vlad\AppData\Local\ASP.NET\DataProtection-Keys"' as key repository and Windows DPAPI to encrypt keys at rest.
2022-06-07 14:17:58.629 +03:00 [Information] Now listening on: "https://localhost:7273"
2022-06-07 14:17:58.630 +03:00 [Information] Now listening on: "http://localhost:5273"
2022-06-07 14:17:58.632 +03:00 [Information] Application started. Press Ctrl+C to shut down.
2022-06-07 14:17:58.632 +03:00 [Information] Hosting environment: "Development"
2022-06-07 14:17:58.632 +03:00 [Information] Content root path: "E:\GitHub\TravelAgency\travelAgency\travelAgency\"
2022-06-07 14:17:58.920 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/ - -
2022-06-07 14:17:59.142 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:17:59.157 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Home\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.HomeController" ("travelAgency").
2022-06-07 14:17:59.895 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:18:00.234 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:18:01.349 +03:00 [Information] Executed DbCommand ("150"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] < 10
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:18:01.485 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:18:01.631 +03:00 [Information] Executed ViewResult - view "Index" executed in 146.2219ms.
2022-06-07 14:18:01.634 +03:00 [Information] Executed action "travelAgency.Controllers.HomeController.Index (travelAgency)" in 2476.6912ms
2022-06-07 14:18:01.635 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.HomeController.Index (travelAgency)"'
2022-06-07 14:18:01.662 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/ - - - 200 - text/html;+charset=utf-8 2744.0178ms
2022-06-07 14:18:01.673 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=550&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:18:01.673 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:18:01.675 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 2.5478ms
2022-06-07 14:18:01.681 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:18:01.681 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=550&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 8.2756ms
2022-06-07 14:18:03.583 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours - -
2022-06-07 14:18:03.590 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:18:03.594 +03:00 [Information] Route matched with "{action = \"Index\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index()" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:18:03.631 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:18:03.647 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:18:03.774 +03:00 [Information] Executed DbCommand ("120"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 14:18:03.776 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:18:03.799 +03:00 [Information] Executed ViewResult - view "Index" executed in 23.8994ms.
2022-06-07 14:18:03.800 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Index (travelAgency)" in 205.5357ms
2022-06-07 14:18:03.800 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Index (travelAgency)"'
2022-06-07 14:18:03.801 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours - - - 200 - text/html;+charset=utf-8 218.3154ms
2022-06-07 14:18:03.817 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:18:03.817 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=790&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:18:03.817 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.4079ms
2022-06-07 14:18:03.824 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:18:03.824 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=790&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 7.3043ms
2022-06-07 14:18:12.917 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 14:18:12.928 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:18:12.937 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:18:12.955 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:18:12.972 +03:00 [Warning] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2022-06-07 14:18:13.126 +03:00 [Information] Executed DbCommand ("141"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:18:13.128 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 14:18:13.158 +03:00 [Information] Executed ViewResult - view "Details" executed in 30.5134ms.
2022-06-07 14:18:13.158 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 220.4324ms
2022-06-07 14:18:13.158 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:18:13.159 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 242.3468ms
2022-06-07 14:18:13.174 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=154&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:18:13.174 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:18:13.174 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2968ms
2022-06-07 14:18:13.175 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:18:13.175 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=154&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.9500ms
2022-06-07 14:18:30.706 +03:00 [Information] Request starting HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 251
2022-06-07 14:18:30.709 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-07 14:18:30.712 +03:00 [Information] Route matched with "{action = \"AddComment\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCommentAsync(System.String, Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:18:33.696 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:18:33.826 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__email_0='?' (Size = 256)"], CommandType='Text', CommandTimeout='30']"
""SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[EmployeeId], [a].[Name], [a].[PhotoPath], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Reserves] AS [r] ON [a].[Id] = [r].[UserId]
WHERE ([a].[Discriminator] = N'User') AND ([a].[Email] = @__email_0)
ORDER BY [a].[Id]"
2022-06-07 14:18:40.544 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@__p_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport]
FROM [Tours] AS [t]
WHERE [t].[Id] = @__p_0"
2022-06-07 14:18:40.892 +03:00 [Information] Executed DbCommand ("115"ms) [Parameters=["@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32), @p4='?' (Size = 450)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
INSERT INTO [Comments] ([Caption], [Content], [SendingTime], [TourId], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT [Id]
FROM [Comments]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();"
2022-06-07 14:18:41.023 +03:00 [Information] Executed DbCommand ("111"ms) [Parameters=["@p8='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32), @p4='?' (DbType = Boolean), @p5='?' (DbType = Double), @p6='?' (DbType = Int32), @p7='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Tours] SET [CountPeople] = @p0, [Duration] = @p1, [EmployeeId] = @p2, [HotelId] = @p3, [IsHotTour] = @p4, [Price] = @p5, [Rating] = @p6, [TypeTransport] = @p7
WHERE [Id] = @p8;
SELECT @@ROWCOUNT;"
2022-06-07 14:18:41.278 +03:00 [Information] Executed DbCommand ("113"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id]"
2022-06-07 14:18:41.278 +03:00 [Information] Executing ViewResult, running view "Index".
2022-06-07 14:18:41.292 +03:00 [Information] Executed ViewResult - view "Index" executed in 13.3807ms.
2022-06-07 14:18:41.292 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)" in 10579.7187ms
2022-06-07 14:18:41.292 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.AddCommentAsync (travelAgency)"'
2022-06-07 14:18:41.296 +03:00 [Information] Request finished HTTP/2 POST https://localhost:7273/Tours/AddComment application/x-www-form-urlencoded 251 - 200 - text/html;+charset=utf-8 10589.5620ms
2022-06-07 14:18:41.312 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=283&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:18:41.314 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:18:41.314 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=283&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.9211ms
2022-06-07 14:18:41.317 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:18:41.317 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.2107ms
2022-06-07 14:18:43.064 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - -
2022-06-07 14:18:43.065 +03:00 [Information] Executing endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:18:43.066 +03:00 [Information] Route matched with "{action = \"Details\", controller = \"Tours\", page = \"\", area = \"\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Details(Int32)" on controller "travelAgency.Controllers.ToursController" ("travelAgency").
2022-06-07 14:18:43.066 +03:00 [Information] Entity Framework Core "6.0.5" initialized '"TravelAgencyContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer":"6.0.5"' with options: "MigrationsAssembly=travelAgency "
2022-06-07 14:18:43.179 +03:00 [Information] Executed DbCommand ("112"ms) [Parameters=["@__tourId_0='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[CountPeople], [t].[Duration], [t].[EmployeeId], [t].[HotelId], [t].[IsHotTour], [t].[Price], [t].[Rating], [t].[TypeTransport], [h].[Id], [h0].[Id], [c].[Id], [c].[Caption], [c].[Content], [c].[SendingTime], [c].[TourId], [c].[UserId], [h].[Description], [h].[HotelAddressId], [h].[Name], [h].[Rating], [h].[TypeBeach], [h].[TypeFood], [h0].[City], [h0].[Country], [h0].[Street], [t0].[Id], [t0].[Description], [t0].[ExcursionTime], [t0].[Name], [t0].[Price], [t0].[TourId], [t0].[Id0], [t0].[Description0], [t0].[ExcursionId], [t0].[Name0], [r].[Id], [r].[BookingTime], [r].[TourId], [r].[UserId]
FROM [Tours] AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[HotelId] = [h].[Id]
LEFT JOIN [HotelAddresses] AS [h0] ON [h].[HotelAddressId] = [h0].[Id]
LEFT JOIN [Comments] AS [c] ON [t].[Id] = [c].[TourId]
LEFT JOIN (
    SELECT [e].[Id], [e].[Description], [e].[ExcursionTime], [e].[Name], [e].[Price], [e].[TourId], [s].[Id] AS [Id0], [s].[Description] AS [Description0], [s].[ExcursionId], [s].[Name] AS [Name0]
    FROM [Excursions] AS [e]
    LEFT JOIN [ShowPlaces] AS [s] ON [e].[Id] = [s].[ExcursionId]
) AS [t0] ON [t].[Id] = [t0].[TourId]
LEFT JOIN [Reserves] AS [r] ON [t].[Id] = [r].[TourId]
WHERE [t].[Id] = @__tourId_0
ORDER BY [t].[Id], [h].[Id], [h0].[Id], [c].[Id], [t0].[Id], [t0].[Id0]"
2022-06-07 14:18:43.179 +03:00 [Information] Executing ViewResult, running view "Details".
2022-06-07 14:18:43.187 +03:00 [Information] Executed ViewResult - view "Details" executed in 8.4056ms.
2022-06-07 14:18:43.187 +03:00 [Information] Executed action "travelAgency.Controllers.ToursController.Details (travelAgency)" in 121.886ms
2022-06-07 14:18:43.188 +03:00 [Information] Executed endpoint '"travelAgency.Controllers.ToursController.Details (travelAgency)"'
2022-06-07 14:18:43.188 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/Tours/Details?tourId=2 - - - 200 - text/html;+charset=utf-8 123.9310ms
2022-06-07 14:18:43.202 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/css/site.css?v=182&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - -
2022-06-07 14:18:43.202 +03:00 [Information] Request starting HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - -
2022-06-07 14:18:43.203 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/_framework/aspnetcore-browser-refresh.js - - - 200 11982 application/javascript;+charset=utf-8 0.3533ms
2022-06-07 14:18:43.204 +03:00 [Information] Sending file. Request path: '"/css/site.css"'. Physical path: '"E:\GitHub\TravelAgency\travelAgency\travelAgency\wwwroot\css\site.css"'
2022-06-07 14:18:43.204 +03:00 [Information] Request finished HTTP/2 GET https://localhost:7273/css/site.css?v=182&v=WL_YTZYtkzkbBSDIALELdWAbGbeyCCYR1DRrzuxiXlA - - - 200 1417 text/css 1.6840ms
